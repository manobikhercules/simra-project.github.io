!function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(o,r,function(e){return t[e]}.bind(null,r));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){n(1);const o=n(2);window.onload=function(){document.getElementById("deleteInfo").addEventListener("click",(function(t){console.log(t.target.parentNode.parentNode.remove())}));const t=function(t,e=window.location.href){t=t.replace(/[\[\]]/g,"\\$&");var n=new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)").exec(e);return n?n[2]?decodeURIComponent(n[2].replace(/\+/g," ")):"":null}("region");o(t)}},function(t,e,n){"use strict";n.r(e)},function(t,e,n){let o=n(3);function r(t,e,n,o,r,a){const s=document.createElement("td");s.setAttribute("data-label",o[e].text),t.appendChild(s);const d=document.createElement("div");d.className="is-flex is-align-items-center";const i=document.createElement("span");i.className="tag is-medium mr-1 is-flex-grow-1";const l=document.createTextNode(n[0].toLocaleString());if(a?s.setAttribute("sorttable_customkey",Number.MAX_SAFE_INTEGER):s.setAttribute("sorttable_customkey",n[0].toString()),i.appendChild(l),d.appendChild(i),r){const t=document.createElement("span"),r=document.createElement("span");r.className="unicode-icon",n[1]>0?(t.className="tag "+o[e].tag,r.textContent="⬆"):(t.className="tag",r.textContent="➡");const a=document.createElement("span");a.className="icon-text is-flex-wrap-nowrap";const s=document.createElement("span");s.className="icon mr-0";const i=document.createElement("span");i.appendChild(document.createTextNode(n[1].toLocaleString())),s.appendChild(r),a.appendChild(s),a.appendChild(i),t.appendChild(a),d.appendChild(t)}s.appendChild(d)}t.exports=async function(t){let e=document.getElementById("regionTable"),[n,a,s,d]=await Promise.all([fetch("./resources/tableMeta.json"),fetch("./resources/dashboard.json"),fetch("./resources/mapLinks.json"),fetch("./resources/regionNames.json")]),i=await n.json(),l=await a.json(),c=await s.json(),m=await d.json();!function(t){document.getElementById("totalRides").innerHTML=t.totalRides.toLocaleString(),document.getElementById("totalIncidents").innerHTML=t.totalIncidents.toLocaleString(),document.getElementById("totalKm").innerHTML=t.totalKm.toLocaleString(),document.getElementById("sourceDate").innerHTML=t.sourceDate,null!=t.diffDate?document.getElementById("diffDate").innerHTML=t.diffDate:document.getElementById("diffText").style.display="none"}(l),function(t,e,n,o,a,s){for(const d of e.regions){const i=d.name===s;let l;try{l=a[d.name].DE}catch(t){console.log(d.name+" not found in regionNames.json"),l=d.name}const c=t.insertRow(),m=document.createElement("td");m.setAttribute("data-label",l),m.className="has-text-centered has-text-weight-bold";const u=o[d.name],f=document.createTextNode(l);if(null==u)m.appendChild(f);else{const t=document.createElement("a");t.href=u,t.appendChild(f),m.appendChild(t)}c.appendChild(m);let h=!0;null==e.diffDate&&(h=!1);for(const[t,e]of Object.entries(d))["rides","incidents","scaryIncidents","km"].includes(t)&&r(c,t,e,n,h,i)}}(e,l,i,c,m,t),function(t,e){const n=t.createTHead().insertRow();for(const[t,o]of Object.entries(e)){const t=document.createElement("th"),e=document.createElement("abbr");e.title=o.abbr;const r=document.createTextNode(o.text);e.appendChild(r),t.appendChild(e),n.appendChild(t)}}(e,i),o.makeSortable(e);const u=e.firstElementChild.firstElementChild.children[1];u.click(),u.click()}},function(t,e){
/*@cc_on @*/
if(sorttable={init:function(){arguments.callee.done||(arguments.callee.done=!0,n&&clearInterval(n),document.createElement&&document.getElementsByTagName&&(sorttable.DATE_RE=/^(\d\d?)[\/\.-](\d\d?)[\/\.-]((\d\d)?\d\d)$/,s(document.getElementsByTagName("table"),(function(t){-1!=t.className.search(/\bsortable\b/)&&sorttable.makeSortable(t)}))))},makeSortable:function(t){if(0==t.getElementsByTagName("thead").length&&(the=document.createElement("thead"),the.appendChild(t.rows[0]),t.insertBefore(the,t.firstChild)),null==t.tHead&&(t.tHead=t.getElementsByTagName("thead")[0]),1==t.tHead.rows.length){sortbottomrows=[];for(var e=0;e<t.rows.length;e++)-1!=t.rows[e].className.search(/\bsortbottom\b/)&&(sortbottomrows[sortbottomrows.length]=t.rows[e]);if(sortbottomrows){null==t.tFoot&&(tfo=document.createElement("tfoot"),t.appendChild(tfo));for(e=0;e<sortbottomrows.length;e++)tfo.appendChild(sortbottomrows[e]);delete sortbottomrows}headrow=t.tHead.rows[0].cells;for(e=0;e<headrow.length;e++)headrow[e].className.match(/\bsorttable_nosort\b/)||(mtch=headrow[e].className.match(/\bsorttable_([a-z0-9]+)\b/),mtch&&(override=mtch[1]),mtch&&"function"==typeof sorttable["sort_"+override]?headrow[e].sorttable_sortfunction=sorttable["sort_"+override]:headrow[e].sorttable_sortfunction=sorttable.guessType(t,e),headrow[e].sorttable_columnindex=e,headrow[e].sorttable_tbody=t.tBodies[0],o(headrow[e],"click",sorttable.innerSortFunction=function(t){if(-1!=this.className.search(/\bsorttable_sorted\b/))return sorttable.reverse(this.sorttable_tbody),this.className=this.className.replace("sorttable_sorted","sorttable_sorted_reverse"),this.removeChild(document.getElementById("sorttable_sortfwdind")),sortrevind=document.createElement("span"),sortrevind.id="sorttable_sortrevind",sortrevind.innerHTML="&nbsp;&#x25BE;",void this.appendChild(sortrevind);if(-1!=this.className.search(/\bsorttable_sorted_reverse\b/))return sorttable.reverse(this.sorttable_tbody),this.className=this.className.replace("sorttable_sorted_reverse","sorttable_sorted"),this.removeChild(document.getElementById("sorttable_sortrevind")),sortfwdind=document.createElement("span"),sortfwdind.id="sorttable_sortfwdind",sortfwdind.innerHTML="&nbsp;&#x25B4;",void this.appendChild(sortfwdind);theadrow=this.parentNode,s(theadrow.childNodes,(function(t){1==t.nodeType&&(t.className=t.className.replace("sorttable_sorted_reverse",""),t.className=t.className.replace("sorttable_sorted",""))})),sortfwdind=document.getElementById("sorttable_sortfwdind"),sortfwdind&&sortfwdind.parentNode.removeChild(sortfwdind),sortrevind=document.getElementById("sorttable_sortrevind"),sortrevind&&sortrevind.parentNode.removeChild(sortrevind),this.className+=" sorttable_sorted",sortfwdind=document.createElement("span"),sortfwdind.id="sorttable_sortfwdind",sortfwdind.innerHTML="&nbsp;&#x25B4;",this.appendChild(sortfwdind),row_array=[],col=this.sorttable_columnindex,rows=this.sorttable_tbody.rows;for(var e=0;e<rows.length;e++)row_array[row_array.length]=[sorttable.getInnerText(rows[e].cells[col]),rows[e]];row_array.sort(this.sorttable_sortfunction),tb=this.sorttable_tbody;for(e=0;e<row_array.length;e++)tb.appendChild(row_array[e][1]);delete row_array}))}},guessType:function(t,e){sortfn=sorttable.sort_alpha;for(var n=0;n<t.tBodies[0].rows.length;n++)if(text=sorttable.getInnerText(t.tBodies[0].rows[n].cells[e]),""!=text){if(text.match(/^-?[�$�]?[\d,.]+%?$/))return sorttable.sort_numeric;if(possdate=text.match(sorttable.DATE_RE),possdate){if(first=parseInt(possdate[1]),second=parseInt(possdate[2]),first>12)return sorttable.sort_ddmm;if(second>12)return sorttable.sort_mmdd;sortfn=sorttable.sort_ddmm}}return sortfn},getInnerText:function(t){if(!t)return"";if(hasInputs="function"==typeof t.getElementsByTagName&&t.getElementsByTagName("input").length,null!=t.getAttribute("sorttable_customkey"))return t.getAttribute("sorttable_customkey");if(void 0!==t.textContent&&!hasInputs)return t.textContent.replace(/^\s+|\s+$/g,"");if(void 0!==t.innerText&&!hasInputs)return t.innerText.replace(/^\s+|\s+$/g,"");if(void 0!==t.text&&!hasInputs)return t.text.replace(/^\s+|\s+$/g,"");switch(t.nodeType){case 3:if("input"==t.nodeName.toLowerCase())return t.value.replace(/^\s+|\s+$/g,"");case 4:return t.nodeValue.replace(/^\s+|\s+$/g,"");case 1:case 11:for(var e="",n=0;n<t.childNodes.length;n++)e+=sorttable.getInnerText(t.childNodes[n]);return e.replace(/^\s+|\s+$/g,"");default:return""}},reverse:function(t){newrows=[];for(var e=0;e<t.rows.length;e++)newrows[newrows.length]=t.rows[e];for(e=newrows.length-1;e>=0;e--)t.appendChild(newrows[e]);delete newrows},sort_numeric:function(t,e){return aa=parseFloat(t[0].replace(/[^0-9.-]/g,"")),isNaN(aa)&&(aa=0),bb=parseFloat(e[0].replace(/[^0-9.-]/g,"")),isNaN(bb)&&(bb=0),aa-bb},sort_alpha:function(t,e){return t[0]==e[0]?0:t[0]<e[0]?-1:1},sort_ddmm:function(t,e){return mtch=t[0].match(sorttable.DATE_RE),y=mtch[3],m=mtch[2],d=mtch[1],1==m.length&&(m="0"+m),1==d.length&&(d="0"+d),dt1=y+m+d,mtch=e[0].match(sorttable.DATE_RE),y=mtch[3],m=mtch[2],d=mtch[1],1==m.length&&(m="0"+m),1==d.length&&(d="0"+d),dt2=y+m+d,dt1==dt2?0:dt1<dt2?-1:1},sort_mmdd:function(t,e){return mtch=t[0].match(sorttable.DATE_RE),y=mtch[3],d=mtch[2],m=mtch[1],1==m.length&&(m="0"+m),1==d.length&&(d="0"+d),dt1=y+m+d,mtch=e[0].match(sorttable.DATE_RE),y=mtch[3],d=mtch[2],m=mtch[1],1==m.length&&(m="0"+m),1==d.length&&(d="0"+d),dt2=y+m+d,dt1==dt2?0:dt1<dt2?-1:1},shaker_sort:function(t,e){for(var n=0,o=t.length-1,r=!0;r;){r=!1;for(var a=n;a<o;++a)if(e(t[a],t[a+1])>0){var s=t[a];t[a]=t[a+1],t[a+1]=s,r=!0}if(o--,!r)break;for(a=o;a>n;--a)if(e(t[a],t[a-1])<0){s=t[a];t[a]=t[a-1],t[a-1]=s,r=!0}n++}}},document.addEventListener&&document.addEventListener("DOMContentLoaded",sorttable.init,!1),/WebKit/i.test(navigator.userAgent))var n=setInterval((function(){/loaded|complete/.test(document.readyState)&&sorttable.init()}),10);function o(t,e,n){if(t.addEventListener)t.addEventListener(e,n,!1);else{n.$$guid||(n.$$guid=o.guid++),t.events||(t.events={});var a=t.events[e];a||(a=t.events[e]={},t["on"+e]&&(a[0]=t["on"+e])),a[n.$$guid]=n,t["on"+e]=r}}function r(t){var e=!0;t=t||a(((this.ownerDocument||this.document||this).parentWindow||window).event);var n=this.events[t.type];for(var o in n)this.$$handleEvent=n[o],!1===this.$$handleEvent(t)&&(e=!1);return e}function a(t){return t.preventDefault=a.preventDefault,t.stopPropagation=a.stopPropagation,t}window.onload=sorttable.init,o.guid=1,a.preventDefault=function(){this.returnValue=!1},a.stopPropagation=function(){this.cancelBubble=!0},Array.forEach||(Array.forEach=function(t,e,n){for(var o=0;o<t.length;o++)e.call(n,t[o],o,t)}),Function.prototype.forEach=function(t,e,n){for(var o in t)void 0===this.prototype[o]&&e.call(n,t[o],o,t)},String.forEach=function(t,e,n){Array.forEach(t.split(""),(function(o,r){e.call(n,o,r,t)}))};var s=function(t,e,n){if(t){var o=Object;if(t instanceof Function)o=Function;else{if(t.forEach instanceof Function)return void t.forEach(e,n);"string"==typeof t?o=String:"number"==typeof t.length&&(o=Array)}o.forEach(t,e,n)}};t.exports=sorttable}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9teXN0eWxlcy5zY3NzIiwid2VicGFjazovLy8uL3NyYy90YWJsZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvc29ydHRhYmxlLmpzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiZmlsbFRhYmxlIiwid2luZG93Iiwib25sb2FkIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJldmVudCIsImNvbnNvbGUiLCJsb2ciLCJ0YXJnZXQiLCJwYXJlbnROb2RlIiwicmVtb3ZlIiwidG9wUmVnaW9uIiwidXJsIiwibG9jYXRpb24iLCJocmVmIiwicmVwbGFjZSIsInJlc3VsdHMiLCJSZWdFeHAiLCJleGVjIiwiZGVjb2RlVVJJQ29tcG9uZW50IiwiZ2V0UGFyYW1ldGVyQnlOYW1lIiwic29ydHRhYmxlIiwiZ2VuZXJhdGVTdGF0Q29sdW1uIiwicm93IiwidGFibGVNZXRhIiwiZGlmZnMiLCJhdFRvcCIsImNlbGwiLCJjcmVhdGVFbGVtZW50Iiwic2V0QXR0cmlidXRlIiwidGV4dCIsImFwcGVuZENoaWxkIiwiZGl2IiwiY2xhc3NOYW1lIiwidG90YWxTcGFuIiwidG90YWxTcGFuVGV4dCIsImNyZWF0ZVRleHROb2RlIiwidG9Mb2NhbGVTdHJpbmciLCJOdW1iZXIiLCJNQVhfU0FGRV9JTlRFR0VSIiwidG9TdHJpbmciLCJkaXZTcGFuIiwiaWNvbiIsInRhZyIsInRleHRDb250ZW50IiwiaWNvblRleHQiLCJpY29uU3BhbiIsImRpZmZWYWx1ZSIsImFzeW5jIiwidGFibGUiLCJyMSIsInIyIiwicjMiLCJyNCIsIlByb21pc2UiLCJhbGwiLCJmZXRjaCIsImpzb24iLCJkYXNoYm9hcmQiLCJtYXBMaW5rcyIsInJlZ2lvbk5hbWVzIiwiaW5uZXJIVE1MIiwidG90YWxSaWRlcyIsInRvdGFsSW5jaWRlbnRzIiwidG90YWxLbSIsInNvdXJjZURhdGUiLCJ1bmRlZmluZWQiLCJkaWZmRGF0ZSIsInN0eWxlIiwiZGlzcGxheSIsInVwZGF0ZVRvdGFscyIsInJlZ2lvbiIsInJlZ2lvbnMiLCJzaG93bk5hbWUiLCJlcnIiLCJpbnNlcnRSb3ciLCJ0aCIsImxpbmsiLCJ0ZXh0TmFtZSIsImEiLCJlbnRyaWVzIiwiaW5jbHVkZXMiLCJnZW5lcmF0ZVRhYmxlIiwiY3JlYXRlVEhlYWQiLCJhYmJyIiwidGl0bGUiLCJnZW5lcmF0ZVRhYmxlSGVhZCIsIm1ha2VTb3J0YWJsZSIsInNvcnRCdXR0b24iLCJmaXJzdEVsZW1lbnRDaGlsZCIsImNoaWxkcmVuIiwiY2xpY2siLCJpbml0IiwiYXJndW1lbnRzIiwiY2FsbGVlIiwiZG9uZSIsIl90aW1lciIsImNsZWFySW50ZXJ2YWwiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsIkRBVEVfUkUiLCJmb3JFYWNoIiwic2VhcmNoIiwibGVuZ3RoIiwidGhlIiwicm93cyIsImluc2VydEJlZm9yZSIsImZpcnN0Q2hpbGQiLCJ0SGVhZCIsInNvcnRib3R0b21yb3dzIiwidEZvb3QiLCJ0Zm8iLCJoZWFkcm93IiwiY2VsbHMiLCJtYXRjaCIsIm10Y2giLCJvdmVycmlkZSIsInNvcnR0YWJsZV9zb3J0ZnVuY3Rpb24iLCJndWVzc1R5cGUiLCJzb3J0dGFibGVfY29sdW1uaW5kZXgiLCJzb3J0dGFibGVfdGJvZHkiLCJ0Qm9kaWVzIiwiZGVhbl9hZGRFdmVudCIsImlubmVyU29ydEZ1bmN0aW9uIiwiZSIsInRoaXMiLCJyZXZlcnNlIiwicmVtb3ZlQ2hpbGQiLCJzb3J0cmV2aW5kIiwiaWQiLCJzb3J0ZndkaW5kIiwidGhlYWRyb3ciLCJjaGlsZE5vZGVzIiwibm9kZVR5cGUiLCJyb3dfYXJyYXkiLCJjb2wiLCJqIiwiZ2V0SW5uZXJUZXh0Iiwic29ydCIsInRiIiwiY29sdW1uIiwic29ydGZuIiwic29ydF9hbHBoYSIsInNvcnRfbnVtZXJpYyIsInBvc3NkYXRlIiwiZmlyc3QiLCJwYXJzZUludCIsInNlY29uZCIsInNvcnRfZGRtbSIsInNvcnRfbW1kZCIsIm5vZGUiLCJoYXNJbnB1dHMiLCJnZXRBdHRyaWJ1dGUiLCJpbm5lclRleHQiLCJub2RlTmFtZSIsInRvTG93ZXJDYXNlIiwibm9kZVZhbHVlIiwidGJvZHkiLCJuZXdyb3dzIiwiYiIsImFhIiwicGFyc2VGbG9hdCIsImlzTmFOIiwiYmIiLCJ5IiwiZHQxIiwiZHQyIiwic2hha2VyX3NvcnQiLCJsaXN0IiwiY29tcF9mdW5jIiwic3dhcCIsInEiLCJ0ZXN0IiwibmF2aWdhdG9yIiwidXNlckFnZW50Iiwic2V0SW50ZXJ2YWwiLCJyZWFkeVN0YXRlIiwiZWxlbWVudCIsInR5cGUiLCJoYW5kbGVyIiwiJCRndWlkIiwiZ3VpZCIsImV2ZW50cyIsImhhbmRsZXJzIiwiaGFuZGxlRXZlbnQiLCJyZXR1cm5WYWx1ZSIsImZpeEV2ZW50Iiwib3duZXJEb2N1bWVudCIsInBhcmVudFdpbmRvdyIsIiQkaGFuZGxlRXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsInN0b3BQcm9wYWdhdGlvbiIsImNhbmNlbEJ1YmJsZSIsIkFycmF5IiwiYXJyYXkiLCJibG9jayIsImNvbnRleHQiLCJGdW5jdGlvbiIsIlN0cmluZyIsInN0cmluZyIsInNwbGl0IiwiY2hyIiwiaW5kZXgiLCJyZXNvbHZlIl0s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Qm1PLEVBQU1oTyxLQUFLaU8sRUFBU0YsRUFBTWxPLEdBQUlBLEVBQUdrTyxLQU03Q0csU0FBU3pNLFVBQVV5RyxRQUFVLFNBQVMzRyxFQUFReU0sRUFBT0MsR0FDakQsSUFBSyxJQUFJN00sS0FBT0csT0FDc0IsSUFBdkJtSSxLQUFLakksVUFBVUwsSUFDdEI0TSxFQUFNaE8sS0FBS2lPLEVBQVMxTSxFQUFPSCxHQUFNQSxFQUFLRyxJQU1sRDRNLE9BQU9qRyxRQUFVLFNBQVNrRyxFQUFRSixFQUFPQyxHQUNyQ0gsTUFBTTVGLFFBQVFrRyxFQUFPQyxNQUFNLEtBQUssU0FBU0MsRUFBS0MsR0FDMUNQLEVBQU1oTyxLQUFLaU8sRUFBU0ssRUFBS0MsRUFBT0gsT0FLeEMsSUFBSWxHLEVBQVUsU0FBUzNHLEVBQVF5TSxFQUFPQyxHQUNsQyxHQUFJMU0sRUFBUSxDQUNSLElBQUlpTixFQUFVak8sT0FDZCxHQUFJZ0IsYUFBa0IyTSxTQUVsQk0sRUFBVU4sYUFDUCxJQUFJM00sRUFBTzJHLG1CQUFtQmdHLFNBR2pDLFlBREEzTSxFQUFPMkcsUUFBUThGLEVBQU9DLEdBRUUsaUJBQVYxTSxFQUVkaU4sRUFBVUwsT0FDcUIsaUJBQWpCNU0sRUFBTzZHLFNBRXJCb0csRUFBVVYsT0FFZFUsRUFBUXRHLFFBQVEzRyxFQUFReU0sRUFBT0MsS0FJdkNyTyxFQUFPRCxRQUFVd0QiLCJmaWxlIjoianMvZGFzaGJvYXJkLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDApO1xuIiwicmVxdWlyZSgnLi9teXN0eWxlcy5zY3NzJyk7XG5jb25zdCBmaWxsVGFibGUgPSByZXF1aXJlKFwiLi90YWJsZS5qc1wiKVxuXG53aW5kb3cub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkZWxldGVJbmZvXCIpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgY29uc29sZS5sb2coZXZlbnQudGFyZ2V0LnBhcmVudE5vZGUucGFyZW50Tm9kZS5yZW1vdmUoKSlcbiAgICB9KTtcblxuICAgIC8vIHVzZXJzIGNhbiBzdXBwbHkgYSByZWdpb24gbmFtZSB0aGF0IHdpbGwgYmUgbGlzdGVkIGF0IHRoZSB0b3BcbiAgICBjb25zdCB0b3BSZWdpb24gPSBnZXRQYXJhbWV0ZXJCeU5hbWUoJ3JlZ2lvbicpXG4gICAgXG4gICAgZmlsbFRhYmxlKHRvcFJlZ2lvbilcbn1cblxuLyoqXG4gKiBTb3VyY2U6IGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzkwMTExNS9ob3ctY2FuLWktZ2V0LXF1ZXJ5LXN0cmluZy12YWx1ZXMtaW4tamF2YXNjcmlwdD9ycT0xXG4gKi9cblxuZnVuY3Rpb24gZ2V0UGFyYW1ldGVyQnlOYW1lKG5hbWUsIHVybCA9IHdpbmRvdy5sb2NhdGlvbi5ocmVmKSB7XG4gICAgbmFtZSA9IG5hbWUucmVwbGFjZSgvW1xcW1xcXV0vZywgJ1xcXFwkJicpO1xuICAgIHZhciByZWdleCA9IG5ldyBSZWdFeHAoJ1s/Jl0nICsgbmFtZSArICcoPShbXiYjXSopfCZ8I3wkKScpLFxuICAgICAgICByZXN1bHRzID0gcmVnZXguZXhlYyh1cmwpO1xuICAgIGlmICghcmVzdWx0cykgcmV0dXJuIG51bGw7XG4gICAgaWYgKCFyZXN1bHRzWzJdKSByZXR1cm4gJyc7XG4gICAgcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChyZXN1bHRzWzJdLnJlcGxhY2UoL1xcKy9nLCAnICcpKTtcbn0iLCIvLyBleHRyYWN0ZWQgYnkgbWluaS1jc3MtZXh0cmFjdC1wbHVnaW5cbmV4cG9ydCB7fTsiLCJsZXQgc29ydHRhYmxlID0gcmVxdWlyZShcIi4vc29ydHRhYmxlLmpzXCIpXG5cbmZ1bmN0aW9uIGdlbmVyYXRlVGFibGVIZWFkKHRhYmxlLCB0YWJsZU1ldGEpIHtcbiAgICBjb25zdCB0aGVhZCA9IHRhYmxlLmNyZWF0ZVRIZWFkKCk7XG4gICAgY29uc3Qgcm93ID0gdGhlYWQuaW5zZXJ0Um93KCk7XG4gICAgZm9yIChjb25zdCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXModGFibGVNZXRhKSkge1xuICAgICAgICBjb25zdCB0aCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0aFwiKTtcbiAgICAgICAgY29uc3QgYWJiciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhYmJyXCIpXG4gICAgICAgIGFiYnIudGl0bGUgPSB2YWx1ZS5hYmJyXG4gICAgICAgIGNvbnN0IHRleHQgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh2YWx1ZS50ZXh0KTtcbiAgICAgICAgYWJici5hcHBlbmRDaGlsZCh0ZXh0KVxuICAgICAgICB0aC5hcHBlbmRDaGlsZChhYmJyKTtcbiAgICAgICAgcm93LmFwcGVuZENoaWxkKHRoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGdlbmVyYXRlVGFibGUodGFibGUsIGRhc2hib2FyZCwgdGFibGVNZXRhLCBtYXBMaW5rcywgcmVnaW9uTmFtZXMsIHRvcFJlZ2lvbikge1xuICAgIGZvciAoY29uc3QgcmVnaW9uIG9mIGRhc2hib2FyZC5yZWdpb25zKSB7XG4gICAgICAgIC8vIHRydWUgaWYgdGhlIGN1cnJlbnQgcmVnaW9uIHNob3VsZCBiZSBhdCB0aGUgdG9wIHdoZW4gbG9hZGluZyB0aGUgcGFnZVxuICAgICAgICBjb25zdCBhdFRvcCA9IHJlZ2lvbi5uYW1lID09PSB0b3BSZWdpb25cblxuICAgICAgICBsZXQgc2hvd25OYW1lXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBzaG93bk5hbWUgPSByZWdpb25OYW1lc1tyZWdpb24ubmFtZV1bXCJERVwiXVxuICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlZ2lvbi5uYW1lICsgXCIgbm90IGZvdW5kIGluIHJlZ2lvbk5hbWVzLmpzb25cIilcbiAgICAgICAgICAgIHNob3duTmFtZSA9IHJlZ2lvbi5uYW1lXG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCByb3cgPSB0YWJsZS5pbnNlcnRSb3coKTtcbiAgICAgICAgLy8gbmFtZSBjb2x1bW5cbiAgICAgICAgY29uc3QgdGggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGRcIilcbiAgICAgICAgdGguc2V0QXR0cmlidXRlKFwiZGF0YS1sYWJlbFwiLCBzaG93bk5hbWUpXG4gICAgICAgIHRoLmNsYXNzTmFtZSA9IFwiaGFzLXRleHQtY2VudGVyZWQgaGFzLXRleHQtd2VpZ2h0LWJvbGRcIlxuXG4gICAgICAgIGNvbnN0IGxpbmsgPSBtYXBMaW5rc1tyZWdpb24ubmFtZV1cbiAgICAgICAgY29uc3QgdGV4dE5hbWUgPSBkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShzaG93bk5hbWUpO1xuICAgICAgICBpZiAobGluayA9PSBudWxsKSB7XG4gICAgICAgICAgICB0aC5hcHBlbmRDaGlsZCh0ZXh0TmFtZSlcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKVxuICAgICAgICAgICAgYS5ocmVmID0gbGlua1xuICAgICAgICAgICAgYS5hcHBlbmRDaGlsZCh0ZXh0TmFtZSlcbiAgICAgICAgICAgIHRoLmFwcGVuZENoaWxkKGEpXG4gICAgICAgIH1cbiAgICAgICAgcm93LmFwcGVuZENoaWxkKHRoKVxuXG4gICAgICAgIGxldCBkaWZmcyA9IHRydWVcbiAgICAgICAgaWYgKGRhc2hib2FyZC5kaWZmRGF0ZSA9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGRpZmZzID0gZmFsc2VcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHN0YXQgY29sdW1uc1xuICAgICAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhyZWdpb24pKSB7XG4gICAgICAgICAgICBpZiAoW1wicmlkZXNcIiwgXCJpbmNpZGVudHNcIiwgXCJzY2FyeUluY2lkZW50c1wiLCBcImttXCJdLmluY2x1ZGVzKGtleSkpIHtcbiAgICAgICAgICAgICAgICBnZW5lcmF0ZVN0YXRDb2x1bW4ocm93LCBrZXksIHZhbHVlLCB0YWJsZU1ldGEsIGRpZmZzLCBhdFRvcCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5cbi8vIGtleSA9IHJpZGVzLCB2YWx1ZSA9IFsxMDAsIDFdLCBkaWZmcyA9IHRydWUvZmFsc2UsIGF0VG9wID0gdHJ1ZS9mYWxzZVxuZnVuY3Rpb24gZ2VuZXJhdGVTdGF0Q29sdW1uKHJvdywga2V5LCB2YWx1ZSwgdGFibGVNZXRhLCBkaWZmcywgYXRUb3ApIHtcbiAgICAvLyBjcmVhdGUgY2VsbCBhbmQgYXBwZW5kIGFscmVhZHkgdG8gcm93XG4gICAgY29uc3QgY2VsbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZFwiKVxuICAgIGNlbGwuc2V0QXR0cmlidXRlKFwiZGF0YS1sYWJlbFwiLCB0YWJsZU1ldGFba2V5XS50ZXh0KTtcbiAgICByb3cuYXBwZW5kQ2hpbGQoY2VsbClcblxuICAgIC8vIGNyZWF0ZSBkaXZcbiAgICBjb25zdCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpXG4gICAgZGl2LmNsYXNzTmFtZSA9IFwiaXMtZmxleCBpcy1hbGlnbi1pdGVtcy1jZW50ZXJcIjtcblxuICAgIC8vIGNyZWF0ZSB0b3RhbCBzcGFuXG4gICAgY29uc3QgdG90YWxTcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIilcbiAgICB0b3RhbFNwYW4uY2xhc3NOYW1lID0gXCJ0YWcgaXMtbWVkaXVtIG1yLTEgaXMtZmxleC1ncm93LTFcIlxuICAgIC8vIGNyZWF0ZSB0b3RhbCBzcGFuIHRleHRcbiAgICBjb25zdCB0b3RhbFNwYW5UZXh0ID0gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodmFsdWVbMF0udG9Mb2NhbGVTdHJpbmcoKSlcblxuICAgIGlmICghYXRUb3ApIHtcbiAgICAgICAgLy8gc2V0IHNvcnQta2V5IG9mIGNlbGwgdG8gdmFsdWUgKG5vcm1hbCBzb3J0aW5nKVxuICAgICAgICBjZWxsLnNldEF0dHJpYnV0ZShcInNvcnR0YWJsZV9jdXN0b21rZXlcIiwgdmFsdWVbMF0udG9TdHJpbmcoKSlcbiAgICB9IGVsc2Uge1xuICAgICAgICAvLyB0aGUgZ2l2ZW4gY2VsbCBzaG91bGQgYmUgYXQgdGhlIHRvcCwgc28gYWRkIGEgdmVyeSBsYXJnZSB0b3Ata2V5XG4gICAgICAgIGNlbGwuc2V0QXR0cmlidXRlKFwic29ydHRhYmxlX2N1c3RvbWtleVwiLCBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUilcbiAgICB9XG5cbiAgICAvLyBhcHBlbmQgZWxlbWVudHNcbiAgICB0b3RhbFNwYW4uYXBwZW5kQ2hpbGQodG90YWxTcGFuVGV4dClcbiAgICBkaXYuYXBwZW5kQ2hpbGQodG90YWxTcGFuKVxuXG4gICAgaWYgKGRpZmZzKSB7XG4gICAgICAgIC8vIGNyZWF0ZSBkaWZmIHNwYW5cbiAgICAgICAgY29uc3QgZGl2U3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpXG4gICAgICAgIGNvbnN0IGljb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKVxuICAgICAgICBpY29uLmNsYXNzTmFtZSA9IFwidW5pY29kZS1pY29uXCJcbiAgICAgICAgaWYgKHZhbHVlWzFdID4gMCkge1xuICAgICAgICAgICAgZGl2U3Bhbi5jbGFzc05hbWUgPSBcInRhZyBcIiArIHRhYmxlTWV0YVtrZXldLnRhZ1xuICAgICAgICAgICAgaWNvbi50ZXh0Q29udGVudCA9IFwi4qyGXCJcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGRpdlNwYW4uY2xhc3NOYW1lID0gXCJ0YWdcIlxuICAgICAgICAgICAgaWNvbi50ZXh0Q29udGVudCA9IFwi4p6hXCJcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBpY29uVGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpXG4gICAgICAgIGljb25UZXh0LmNsYXNzTmFtZSA9IFwiaWNvbi10ZXh0IGlzLWZsZXgtd3JhcC1ub3dyYXBcIlxuICAgICAgICBjb25zdCBpY29uU3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpXG4gICAgICAgIGljb25TcGFuLmNsYXNzTmFtZSA9IFwiaWNvbiBtci0wXCJcbiAgICAgICAgY29uc3QgZGlmZlZhbHVlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIilcbiAgICAgICAgZGlmZlZhbHVlLmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHZhbHVlWzFdLnRvTG9jYWxlU3RyaW5nKCkpKVxuXG4gICAgICAgIC8vIGFwcGVuZCBlbGVtZW50cyBpbiByZXZlcnNlIGNyZWF0aW9uIG9yZGVyIHRvIGNlbGxcbiAgICAgICAgaWNvblNwYW4uYXBwZW5kQ2hpbGQoaWNvbilcbiAgICAgICAgaWNvblRleHQuYXBwZW5kQ2hpbGQoaWNvblNwYW4pXG4gICAgICAgIGljb25UZXh0LmFwcGVuZENoaWxkKGRpZmZWYWx1ZSlcbiAgICAgICAgZGl2U3Bhbi5hcHBlbmRDaGlsZChpY29uVGV4dClcbiAgICAgICAgZGl2LmFwcGVuZENoaWxkKGRpdlNwYW4pXG4gICAgfVxuXG4gICAgY2VsbC5hcHBlbmRDaGlsZChkaXYpXG59XG5cbmZ1bmN0aW9uIHVwZGF0ZVRvdGFscyhkYXNoYm9hcmQpIHtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRvdGFsUmlkZXNcIikuaW5uZXJIVE1MID0gZGFzaGJvYXJkLnRvdGFsUmlkZXMudG9Mb2NhbGVTdHJpbmcoKVxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidG90YWxJbmNpZGVudHNcIikuaW5uZXJIVE1MID0gZGFzaGJvYXJkLnRvdGFsSW5jaWRlbnRzLnRvTG9jYWxlU3RyaW5nKClcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRvdGFsS21cIikuaW5uZXJIVE1MID0gZGFzaGJvYXJkLnRvdGFsS20udG9Mb2NhbGVTdHJpbmcoKVxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic291cmNlRGF0ZVwiKS5pbm5lckhUTUwgPSBkYXNoYm9hcmQuc291cmNlRGF0ZVxuXG4gICAgaWYgKGRhc2hib2FyZC5kaWZmRGF0ZSAhPSB1bmRlZmluZWQpIHtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJkaWZmRGF0ZVwiKS5pbm5lckhUTUwgPSBkYXNoYm9hcmQuZGlmZkRhdGVcbiAgICB9IGVsc2Uge1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRpZmZUZXh0XCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICB9XG59XG5cbi8vIHRvcFJlZ2lvbiBjYW4gYmUgc2V0IHRvIHRoZSBuYW1lIG9mIGEgcmVnaW9uIGFzIGZvdW5kIGluIHRoZSBkYXNoYm9hcmQuanNvbjsgdGhpcyByZWdpb24gd2lsbCB0aGVuIGJlIHNob3duIGF0IHRoZSB0b3Agb2YgdGhlIHRhYmxlXG5hc3luYyBmdW5jdGlvbiBmaWxsVGFibGUodG9wUmVnaW9uKSB7XG4gICAgbGV0IHRhYmxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJyZWdpb25UYWJsZVwiKTtcblxuICAgIGxldCBbcjEsIHIyLCByMywgcjRdID0gYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgICAgICBmZXRjaChcIi4vcmVzb3VyY2VzL3RhYmxlTWV0YS5qc29uXCIpLFxuICAgICAgICBmZXRjaChcIi4vcmVzb3VyY2VzL2Rhc2hib2FyZC5qc29uXCIpLFxuICAgICAgICBmZXRjaChcIi4vcmVzb3VyY2VzL21hcExpbmtzLmpzb25cIiksXG4gICAgICAgIGZldGNoKFwiLi9yZXNvdXJjZXMvcmVnaW9uTmFtZXMuanNvblwiKVxuICAgIF0pXG5cbiAgICBsZXQgdGFibGVNZXRhID0gYXdhaXQgcjEuanNvbigpXG4gICAgbGV0IGRhc2hib2FyZCA9IGF3YWl0IHIyLmpzb24oKVxuICAgIGxldCBtYXBMaW5rcyA9IGF3YWl0IHIzLmpzb24oKVxuICAgIGxldCByZWdpb25OYW1lcyA9IGF3YWl0IHI0Lmpzb24oKVxuXG4gICAgdXBkYXRlVG90YWxzKGRhc2hib2FyZCk7XG4gICAgZ2VuZXJhdGVUYWJsZSh0YWJsZSwgZGFzaGJvYXJkLCB0YWJsZU1ldGEsIG1hcExpbmtzLCByZWdpb25OYW1lcywgdG9wUmVnaW9uKTtcbiAgICBnZW5lcmF0ZVRhYmxlSGVhZCh0YWJsZSwgdGFibGVNZXRhKTtcblxuICAgIHNvcnR0YWJsZS5tYWtlU29ydGFibGUodGFibGUpXG4gICAgLy8gdHJpZ2dlciB0aGUgc29ydGluZyBieSBjbGlja2luZyB0aGUgYnV0dG9uIG9mIHRoZSAjRmFocnRlbiBjb2x1bW5cbiAgICBjb25zdCBzb3J0QnV0dG9uID0gdGFibGUuZmlyc3RFbGVtZW50Q2hpbGQuZmlyc3RFbGVtZW50Q2hpbGQuY2hpbGRyZW5bMV1cbiAgICBzb3J0QnV0dG9uLmNsaWNrKClcbiAgICBzb3J0QnV0dG9uLmNsaWNrKClcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBmaWxsVGFibGU7IiwiLypcbiAgU29ydFRhYmxlXG4gIHZlcnNpb24gMlxuICA3dGggQXByaWwgMjAwN1xuICBTdHVhcnQgTGFuZ3JpZGdlLCBodHRwOi8vd3d3LmtyeW9nZW5peC5vcmcvY29kZS9icm93c2VyL3NvcnR0YWJsZS9cblxuICBJbnN0cnVjdGlvbnM6XG4gIERvd25sb2FkIHRoaXMgZmlsZVxuICBBZGQgPHNjcmlwdCBzcmM9XCJzb3J0dGFibGUuanNcIj48L3NjcmlwdD4gdG8geW91ciBIVE1MXG4gIEFkZCBjbGFzcz1cInNvcnRhYmxlXCIgdG8gYW55IHRhYmxlIHlvdSdkIGxpa2UgdG8gbWFrZSBzb3J0YWJsZVxuICBDbGljayBvbiB0aGUgaGVhZGVycyB0byBzb3J0XG5cbiAgVGhhbmtzIHRvIG1hbnksIG1hbnkgcGVvcGxlIGZvciBjb250cmlidXRpb25zIGFuZCBzdWdnZXN0aW9ucy5cbiAgTGljZW5jZWQgYXMgWDExOiBodHRwOi8vd3d3LmtyeW9nZW5peC5vcmcvY29kZS9icm93c2VyL2xpY2VuY2UuaHRtbFxuICBUaGlzIGJhc2ljYWxseSBtZWFuczogZG8gd2hhdCB5b3Ugd2FudCB3aXRoIGl0LlxuKi9cblxuXG52YXIgc3RJc0lFID0gLypAY2Nfb24hQCovIGZhbHNlO1xuXG5zb3J0dGFibGUgPSB7XG4gICAgaW5pdDogZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vIHF1aXQgaWYgdGhpcyBmdW5jdGlvbiBoYXMgYWxyZWFkeSBiZWVuIGNhbGxlZFxuICAgICAgICBpZiAoYXJndW1lbnRzLmNhbGxlZS5kb25lKSByZXR1cm47XG4gICAgICAgIC8vIGZsYWcgdGhpcyBmdW5jdGlvbiBzbyB3ZSBkb24ndCBkbyB0aGUgc2FtZSB0aGluZyB0d2ljZVxuICAgICAgICBhcmd1bWVudHMuY2FsbGVlLmRvbmUgPSB0cnVlO1xuICAgICAgICAvLyBraWxsIHRoZSB0aW1lclxuICAgICAgICBpZiAoX3RpbWVyKSBjbGVhckludGVydmFsKF90aW1lcik7XG5cbiAgICAgICAgaWYgKCFkb2N1bWVudC5jcmVhdGVFbGVtZW50IHx8ICFkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSkgcmV0dXJuO1xuXG4gICAgICAgIHNvcnR0YWJsZS5EQVRFX1JFID0gL14oXFxkXFxkPylbXFwvXFwuLV0oXFxkXFxkPylbXFwvXFwuLV0oKFxcZFxcZCk/XFxkXFxkKSQvO1xuXG4gICAgICAgIGZvckVhY2goZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3RhYmxlJyksIGZ1bmN0aW9uKHRhYmxlKSB7XG4gICAgICAgICAgICBpZiAodGFibGUuY2xhc3NOYW1lLnNlYXJjaCgvXFxic29ydGFibGVcXGIvKSAhPSAtMSkge1xuICAgICAgICAgICAgICAgIHNvcnR0YWJsZS5tYWtlU29ydGFibGUodGFibGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgIH0sXG5cbiAgICBtYWtlU29ydGFibGU6IGZ1bmN0aW9uKHRhYmxlKSB7XG4gICAgICAgIGlmICh0YWJsZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgndGhlYWQnKS5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgLy8gdGFibGUgZG9lc24ndCBoYXZlIGEgdEhlYWQuIFNpbmNlIGl0IHNob3VsZCBoYXZlLCBjcmVhdGUgb25lIGFuZFxuICAgICAgICAgICAgLy8gcHV0IHRoZSBmaXJzdCB0YWJsZSByb3cgaW4gaXQuXG4gICAgICAgICAgICB0aGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0aGVhZCcpO1xuICAgICAgICAgICAgdGhlLmFwcGVuZENoaWxkKHRhYmxlLnJvd3NbMF0pO1xuICAgICAgICAgICAgdGFibGUuaW5zZXJ0QmVmb3JlKHRoZSwgdGFibGUuZmlyc3RDaGlsZCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gU2FmYXJpIGRvZXNuJ3Qgc3VwcG9ydCB0YWJsZS50SGVhZCwgc2lnaFxuICAgICAgICBpZiAodGFibGUudEhlYWQgPT0gbnVsbCkgdGFibGUudEhlYWQgPSB0YWJsZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgndGhlYWQnKVswXTtcblxuICAgICAgICBpZiAodGFibGUudEhlYWQucm93cy5sZW5ndGggIT0gMSkgcmV0dXJuOyAvLyBjYW4ndCBjb3BlIHdpdGggdHdvIGhlYWRlciByb3dzXG5cbiAgICAgICAgLy8gU29ydHRhYmxlIHYxIHB1dCByb3dzIHdpdGggYSBjbGFzcyBvZiBcInNvcnRib3R0b21cIiBhdCB0aGUgYm90dG9tIChhc1xuICAgICAgICAvLyBcInRvdGFsXCIgcm93cywgZm9yIGV4YW1wbGUpLiBUaGlzIGlzIEImUiwgc2luY2Ugd2hhdCB5b3UncmUgc3VwcG9zZWRcbiAgICAgICAgLy8gdG8gZG8gaXMgcHV0IHRoZW0gaW4gYSB0Zm9vdC4gU28sIGlmIHRoZXJlIGFyZSBzb3J0Ym90dG9tIHJvd3MsXG4gICAgICAgIC8vIGZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eSwgbW92ZSB0aGVtIHRvIHRmb290IChjcmVhdGluZyBpdCBpZiBuZWVkZWQpLlxuICAgICAgICBzb3J0Ym90dG9tcm93cyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRhYmxlLnJvd3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmICh0YWJsZS5yb3dzW2ldLmNsYXNzTmFtZS5zZWFyY2goL1xcYnNvcnRib3R0b21cXGIvKSAhPSAtMSkge1xuICAgICAgICAgICAgICAgIHNvcnRib3R0b21yb3dzW3NvcnRib3R0b21yb3dzLmxlbmd0aF0gPSB0YWJsZS5yb3dzW2ldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChzb3J0Ym90dG9tcm93cykge1xuICAgICAgICAgICAgaWYgKHRhYmxlLnRGb290ID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAvLyB0YWJsZSBkb2Vzbid0IGhhdmUgYSB0Zm9vdC4gQ3JlYXRlIG9uZS5cbiAgICAgICAgICAgICAgICB0Zm8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0Zm9vdCcpO1xuICAgICAgICAgICAgICAgIHRhYmxlLmFwcGVuZENoaWxkKHRmbyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNvcnRib3R0b21yb3dzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdGZvLmFwcGVuZENoaWxkKHNvcnRib3R0b21yb3dzW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRlbGV0ZSBzb3J0Ym90dG9tcm93cztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHdvcmsgdGhyb3VnaCBlYWNoIGNvbHVtbiBhbmQgY2FsY3VsYXRlIGl0cyB0eXBlXG4gICAgICAgIGhlYWRyb3cgPSB0YWJsZS50SGVhZC5yb3dzWzBdLmNlbGxzO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGhlYWRyb3cubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIC8vIG1hbnVhbGx5IG92ZXJyaWRlIHRoZSB0eXBlIHdpdGggYSBzb3J0dGFibGVfdHlwZSBhdHRyaWJ1dGVcbiAgICAgICAgICAgIGlmICghaGVhZHJvd1tpXS5jbGFzc05hbWUubWF0Y2goL1xcYnNvcnR0YWJsZV9ub3NvcnRcXGIvKSkgeyAvLyBza2lwIHRoaXMgY29sXG4gICAgICAgICAgICAgICAgbXRjaCA9IGhlYWRyb3dbaV0uY2xhc3NOYW1lLm1hdGNoKC9cXGJzb3J0dGFibGVfKFthLXowLTldKylcXGIvKTtcbiAgICAgICAgICAgICAgICBpZiAobXRjaCkge1xuICAgICAgICAgICAgICAgICAgICBvdmVycmlkZSA9IG10Y2hbMV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChtdGNoICYmIHR5cGVvZiBzb3J0dGFibGVbXCJzb3J0X1wiICsgb3ZlcnJpZGVdID09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgaGVhZHJvd1tpXS5zb3J0dGFibGVfc29ydGZ1bmN0aW9uID0gc29ydHRhYmxlW1wic29ydF9cIiArIG92ZXJyaWRlXTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBoZWFkcm93W2ldLnNvcnR0YWJsZV9zb3J0ZnVuY3Rpb24gPSBzb3J0dGFibGUuZ3Vlc3NUeXBlKHRhYmxlLCBpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gbWFrZSBpdCBjbGlja2FibGUgdG8gc29ydFxuICAgICAgICAgICAgICAgIGhlYWRyb3dbaV0uc29ydHRhYmxlX2NvbHVtbmluZGV4ID0gaTtcbiAgICAgICAgICAgICAgICBoZWFkcm93W2ldLnNvcnR0YWJsZV90Ym9keSA9IHRhYmxlLnRCb2RpZXNbMF07XG4gICAgICAgICAgICAgICAgZGVhbl9hZGRFdmVudChoZWFkcm93W2ldLCBcImNsaWNrXCIsIHNvcnR0YWJsZS5pbm5lclNvcnRGdW5jdGlvbiA9IGZ1bmN0aW9uKGUpIHtcblxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jbGFzc05hbWUuc2VhcmNoKC9cXGJzb3J0dGFibGVfc29ydGVkXFxiLykgIT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmIHdlJ3JlIGFscmVhZHkgc29ydGVkIGJ5IHRoaXMgY29sdW1uLCBqdXN0XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyByZXZlcnNlIHRoZSB0YWJsZSwgd2hpY2ggaXMgcXVpY2tlclxuICAgICAgICAgICAgICAgICAgICAgICAgc29ydHRhYmxlLnJldmVyc2UodGhpcy5zb3J0dGFibGVfdGJvZHkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jbGFzc05hbWUgPSB0aGlzLmNsYXNzTmFtZS5yZXBsYWNlKCdzb3J0dGFibGVfc29ydGVkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnc29ydHRhYmxlX3NvcnRlZF9yZXZlcnNlJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUNoaWxkKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzb3J0dGFibGVfc29ydGZ3ZGluZCcpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvcnRyZXZpbmQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzb3J0cmV2aW5kLmlkID0gXCJzb3J0dGFibGVfc29ydHJldmluZFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgc29ydHJldmluZC5pbm5lckhUTUwgPSBzdElzSUUgPyAnJm5ic3A8Zm9udCBmYWNlPVwid2ViZGluZ3NcIj41PC9mb250PicgOiAnJm5ic3A7JiN4MjVCRTsnO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hcHBlbmRDaGlsZChzb3J0cmV2aW5kKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jbGFzc05hbWUuc2VhcmNoKC9cXGJzb3J0dGFibGVfc29ydGVkX3JldmVyc2VcXGIvKSAhPSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYgd2UncmUgYWxyZWFkeSBzb3J0ZWQgYnkgdGhpcyBjb2x1bW4gaW4gcmV2ZXJzZSwganVzdFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmUtcmV2ZXJzZSB0aGUgdGFibGUsIHdoaWNoIGlzIHF1aWNrZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvcnR0YWJsZS5yZXZlcnNlKHRoaXMuc29ydHRhYmxlX3Rib2R5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2xhc3NOYW1lID0gdGhpcy5jbGFzc05hbWUucmVwbGFjZSgnc29ydHRhYmxlX3NvcnRlZF9yZXZlcnNlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnc29ydHRhYmxlX3NvcnRlZCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVDaGlsZChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc29ydHRhYmxlX3NvcnRyZXZpbmQnKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzb3J0ZndkaW5kID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc29ydGZ3ZGluZC5pZCA9IFwic29ydHRhYmxlX3NvcnRmd2RpbmRcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvcnRmd2RpbmQuaW5uZXJIVE1MID0gc3RJc0lFID8gJyZuYnNwPGZvbnQgZmFjZT1cIndlYmRpbmdzXCI+NjwvZm9udD4nIDogJyZuYnNwOyYjeDI1QjQ7JztcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYXBwZW5kQ2hpbGQoc29ydGZ3ZGluZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyByZW1vdmUgc29ydHRhYmxlX3NvcnRlZCBjbGFzc2VzXG4gICAgICAgICAgICAgICAgICAgIHRoZWFkcm93ID0gdGhpcy5wYXJlbnROb2RlO1xuICAgICAgICAgICAgICAgICAgICBmb3JFYWNoKHRoZWFkcm93LmNoaWxkTm9kZXMsIGZ1bmN0aW9uKGNlbGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjZWxsLm5vZGVUeXBlID09IDEpIHsgLy8gYW4gZWxlbWVudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNlbGwuY2xhc3NOYW1lID0gY2VsbC5jbGFzc05hbWUucmVwbGFjZSgnc29ydHRhYmxlX3NvcnRlZF9yZXZlcnNlJywgJycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNlbGwuY2xhc3NOYW1lID0gY2VsbC5jbGFzc05hbWUucmVwbGFjZSgnc29ydHRhYmxlX3NvcnRlZCcsICcnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHNvcnRmd2RpbmQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc29ydHRhYmxlX3NvcnRmd2RpbmQnKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNvcnRmd2RpbmQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvcnRmd2RpbmQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzb3J0ZndkaW5kKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBzb3J0cmV2aW5kID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NvcnR0YWJsZV9zb3J0cmV2aW5kJyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzb3J0cmV2aW5kKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzb3J0cmV2aW5kLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc29ydHJldmluZCk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNsYXNzTmFtZSArPSAnIHNvcnR0YWJsZV9zb3J0ZWQnO1xuICAgICAgICAgICAgICAgICAgICBzb3J0ZndkaW5kID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgICAgICAgICAgICAgICBzb3J0ZndkaW5kLmlkID0gXCJzb3J0dGFibGVfc29ydGZ3ZGluZFwiO1xuICAgICAgICAgICAgICAgICAgICBzb3J0ZndkaW5kLmlubmVySFRNTCA9IHN0SXNJRSA/ICcmbmJzcDxmb250IGZhY2U9XCJ3ZWJkaW5nc1wiPjY8L2ZvbnQ+JyA6ICcmbmJzcDsmI3gyNUI0Oyc7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXBwZW5kQ2hpbGQoc29ydGZ3ZGluZCk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gYnVpbGQgYW4gYXJyYXkgdG8gc29ydC4gVGhpcyBpcyBhIFNjaHdhcnR6aWFuIHRyYW5zZm9ybSB0aGluZyxcbiAgICAgICAgICAgICAgICAgICAgLy8gaS5lLiwgd2UgXCJkZWNvcmF0ZVwiIGVhY2ggcm93IHdpdGggdGhlIGFjdHVhbCBzb3J0IGtleSxcbiAgICAgICAgICAgICAgICAgICAgLy8gc29ydCBiYXNlZCBvbiB0aGUgc29ydCBrZXlzLCBhbmQgdGhlbiBwdXQgdGhlIHJvd3MgYmFjayBpbiBvcmRlclxuICAgICAgICAgICAgICAgICAgICAvLyB3aGljaCBpcyBhIGxvdCBmYXN0ZXIgYmVjYXVzZSB5b3Ugb25seSBkbyBnZXRJbm5lclRleHQgb25jZSBwZXIgcm93XG4gICAgICAgICAgICAgICAgICAgIHJvd19hcnJheSA9IFtdO1xuICAgICAgICAgICAgICAgICAgICBjb2wgPSB0aGlzLnNvcnR0YWJsZV9jb2x1bW5pbmRleDtcbiAgICAgICAgICAgICAgICAgICAgcm93cyA9IHRoaXMuc29ydHRhYmxlX3Rib2R5LnJvd3M7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgcm93cy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcm93X2FycmF5W3Jvd19hcnJheS5sZW5ndGhdID0gW3NvcnR0YWJsZS5nZXRJbm5lclRleHQocm93c1tqXS5jZWxsc1tjb2xdKSwgcm93c1tqXV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLyogSWYgeW91IHdhbnQgYSBzdGFibGUgc29ydCwgdW5jb21tZW50IHRoZSBmb2xsb3dpbmcgbGluZSAqL1xuICAgICAgICAgICAgICAgICAgICAvL3NvcnR0YWJsZS5zaGFrZXJfc29ydChyb3dfYXJyYXksIHRoaXMuc29ydHRhYmxlX3NvcnRmdW5jdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIC8qIGFuZCBjb21tZW50IG91dCB0aGlzIG9uZSAqL1xuICAgICAgICAgICAgICAgICAgICByb3dfYXJyYXkuc29ydCh0aGlzLnNvcnR0YWJsZV9zb3J0ZnVuY3Rpb24pO1xuXG4gICAgICAgICAgICAgICAgICAgIHRiID0gdGhpcy5zb3J0dGFibGVfdGJvZHk7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgcm93X2FycmF5Lmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0Yi5hcHBlbmRDaGlsZChyb3dfYXJyYXlbal1bMV0pO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHJvd19hcnJheTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBndWVzc1R5cGU6IGZ1bmN0aW9uKHRhYmxlLCBjb2x1bW4pIHtcbiAgICAgICAgLy8gZ3Vlc3MgdGhlIHR5cGUgb2YgYSBjb2x1bW4gYmFzZWQgb24gaXRzIGZpcnN0IG5vbi1ibGFuayByb3dcbiAgICAgICAgc29ydGZuID0gc29ydHRhYmxlLnNvcnRfYWxwaGE7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGFibGUudEJvZGllc1swXS5yb3dzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0ZXh0ID0gc29ydHRhYmxlLmdldElubmVyVGV4dCh0YWJsZS50Qm9kaWVzWzBdLnJvd3NbaV0uY2VsbHNbY29sdW1uXSk7XG4gICAgICAgICAgICBpZiAodGV4dCAhPSAnJykge1xuICAgICAgICAgICAgICAgIGlmICh0ZXh0Lm1hdGNoKC9eLT9b77+9JO+/vV0/W1xcZCwuXSslPyQvKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc29ydHRhYmxlLnNvcnRfbnVtZXJpYztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gY2hlY2sgZm9yIGEgZGF0ZTogZGQvbW0veXl5eSBvciBkZC9tbS95eVxuICAgICAgICAgICAgICAgIC8vIGNhbiBoYXZlIC8gb3IgLiBvciAtIGFzIHNlcGFyYXRvclxuICAgICAgICAgICAgICAgIC8vIGNhbiBiZSBtbS9kZCBhcyB3ZWxsXG4gICAgICAgICAgICAgICAgcG9zc2RhdGUgPSB0ZXh0Lm1hdGNoKHNvcnR0YWJsZS5EQVRFX1JFKVxuICAgICAgICAgICAgICAgIGlmIChwb3NzZGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBsb29rcyBsaWtlIGEgZGF0ZVxuICAgICAgICAgICAgICAgICAgICBmaXJzdCA9IHBhcnNlSW50KHBvc3NkYXRlWzFdKTtcbiAgICAgICAgICAgICAgICAgICAgc2Vjb25kID0gcGFyc2VJbnQocG9zc2RhdGVbMl0pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZmlyc3QgPiAxMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZGVmaW5pdGVseSBkZC9tbVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNvcnR0YWJsZS5zb3J0X2RkbW07XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc2Vjb25kID4gMTIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzb3J0dGFibGUuc29ydF9tbWRkO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbG9va3MgbGlrZSBhIGRhdGUsIGJ1dCB3ZSBjYW4ndCB0ZWxsIHdoaWNoLCBzbyBhc3N1bWVcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoYXQgaXQncyBkZC9tbSAoRW5nbGlzaCBpbXBlcmlhbGlzbSEpIGFuZCBrZWVwIGxvb2tpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvcnRmbiA9IHNvcnR0YWJsZS5zb3J0X2RkbW07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNvcnRmbjtcbiAgICB9LFxuXG4gICAgZ2V0SW5uZXJUZXh0OiBmdW5jdGlvbihub2RlKSB7XG4gICAgICAgIC8vIGdldHMgdGhlIHRleHQgd2Ugd2FudCB0byB1c2UgZm9yIHNvcnRpbmcgZm9yIGEgY2VsbC5cbiAgICAgICAgLy8gc3RyaXBzIGxlYWRpbmcgYW5kIHRyYWlsaW5nIHdoaXRlc3BhY2UuXG4gICAgICAgIC8vIHRoaXMgaXMgKm5vdCogYSBnZW5lcmljIGdldElubmVyVGV4dCBmdW5jdGlvbjsgaXQncyBzcGVjaWFsIHRvIHNvcnR0YWJsZS5cbiAgICAgICAgLy8gZm9yIGV4YW1wbGUsIHlvdSBjYW4gb3ZlcnJpZGUgdGhlIGNlbGwgdGV4dCB3aXRoIGEgY3VzdG9ta2V5IGF0dHJpYnV0ZS5cbiAgICAgICAgLy8gaXQgYWxzbyBnZXRzIC52YWx1ZSBmb3IgPGlucHV0PiBmaWVsZHMuXG5cbiAgICAgICAgaWYgKCFub2RlKSByZXR1cm4gXCJcIjtcblxuICAgICAgICBoYXNJbnB1dHMgPSAodHlwZW9mIG5vZGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUgPT0gJ2Z1bmN0aW9uJykgJiZcbiAgICAgICAgICAgIG5vZGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2lucHV0JykubGVuZ3RoO1xuXG4gICAgICAgIGlmIChub2RlLmdldEF0dHJpYnV0ZShcInNvcnR0YWJsZV9jdXN0b21rZXlcIikgIT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIG5vZGUuZ2V0QXR0cmlidXRlKFwic29ydHRhYmxlX2N1c3RvbWtleVwiKTtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2Ygbm9kZS50ZXh0Q29udGVudCAhPSAndW5kZWZpbmVkJyAmJiAhaGFzSW5wdXRzKSB7XG4gICAgICAgICAgICByZXR1cm4gbm9kZS50ZXh0Q29udGVudC5yZXBsYWNlKC9eXFxzK3xcXHMrJC9nLCAnJyk7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIG5vZGUuaW5uZXJUZXh0ICE9ICd1bmRlZmluZWQnICYmICFoYXNJbnB1dHMpIHtcbiAgICAgICAgICAgIHJldHVybiBub2RlLmlubmVyVGV4dC5yZXBsYWNlKC9eXFxzK3xcXHMrJC9nLCAnJyk7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIG5vZGUudGV4dCAhPSAndW5kZWZpbmVkJyAmJiAhaGFzSW5wdXRzKSB7XG4gICAgICAgICAgICByZXR1cm4gbm9kZS50ZXh0LnJlcGxhY2UoL15cXHMrfFxccyskL2csICcnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN3aXRjaCAobm9kZS5ub2RlVHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5vZGUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PSAnaW5wdXQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbm9kZS52YWx1ZS5yZXBsYWNlKC9eXFxzK3xcXHMrJC9nLCAnJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5vZGUubm9kZVZhbHVlLnJlcGxhY2UoL15cXHMrfFxccyskL2csICcnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTE6XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5uZXJUZXh0ID0gJyc7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5vZGUuY2hpbGROb2Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlubmVyVGV4dCArPSBzb3J0dGFibGUuZ2V0SW5uZXJUZXh0KG5vZGUuY2hpbGROb2Rlc1tpXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaW5uZXJUZXh0LnJlcGxhY2UoL15cXHMrfFxccyskL2csICcnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcblxuICAgIHJldmVyc2U6IGZ1bmN0aW9uKHRib2R5KSB7XG4gICAgICAgIC8vIHJldmVyc2UgdGhlIHJvd3MgaW4gYSB0Ym9keVxuICAgICAgICBuZXdyb3dzID0gW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGJvZHkucm93cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbmV3cm93c1tuZXdyb3dzLmxlbmd0aF0gPSB0Ym9keS5yb3dzW2ldO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSBuZXdyb3dzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICB0Ym9keS5hcHBlbmRDaGlsZChuZXdyb3dzW2ldKTtcbiAgICAgICAgfVxuICAgICAgICBkZWxldGUgbmV3cm93cztcbiAgICB9LFxuXG4gICAgLyogc29ydCBmdW5jdGlvbnNcbiAgICAgICBlYWNoIHNvcnQgZnVuY3Rpb24gdGFrZXMgdHdvIHBhcmFtZXRlcnMsIGEgYW5kIGJcbiAgICAgICB5b3UgYXJlIGNvbXBhcmluZyBhWzBdIGFuZCBiWzBdICovXG4gICAgc29ydF9udW1lcmljOiBmdW5jdGlvbihhLCBiKSB7XG4gICAgICAgIGFhID0gcGFyc2VGbG9hdChhWzBdLnJlcGxhY2UoL1teMC05Li1dL2csICcnKSk7XG4gICAgICAgIGlmIChpc05hTihhYSkpIGFhID0gMDtcbiAgICAgICAgYmIgPSBwYXJzZUZsb2F0KGJbMF0ucmVwbGFjZSgvW14wLTkuLV0vZywgJycpKTtcbiAgICAgICAgaWYgKGlzTmFOKGJiKSkgYmIgPSAwO1xuICAgICAgICByZXR1cm4gYWEgLSBiYjtcbiAgICB9LFxuICAgIHNvcnRfYWxwaGE6IGZ1bmN0aW9uKGEsIGIpIHtcbiAgICAgICAgaWYgKGFbMF0gPT0gYlswXSkgcmV0dXJuIDA7XG4gICAgICAgIGlmIChhWzBdIDwgYlswXSkgcmV0dXJuIC0xO1xuICAgICAgICByZXR1cm4gMTtcbiAgICB9LFxuICAgIHNvcnRfZGRtbTogZnVuY3Rpb24oYSwgYikge1xuICAgICAgICBtdGNoID0gYVswXS5tYXRjaChzb3J0dGFibGUuREFURV9SRSk7XG4gICAgICAgIHkgPSBtdGNoWzNdO1xuICAgICAgICBtID0gbXRjaFsyXTtcbiAgICAgICAgZCA9IG10Y2hbMV07XG4gICAgICAgIGlmIChtLmxlbmd0aCA9PSAxKSBtID0gJzAnICsgbTtcbiAgICAgICAgaWYgKGQubGVuZ3RoID09IDEpIGQgPSAnMCcgKyBkO1xuICAgICAgICBkdDEgPSB5ICsgbSArIGQ7XG4gICAgICAgIG10Y2ggPSBiWzBdLm1hdGNoKHNvcnR0YWJsZS5EQVRFX1JFKTtcbiAgICAgICAgeSA9IG10Y2hbM107XG4gICAgICAgIG0gPSBtdGNoWzJdO1xuICAgICAgICBkID0gbXRjaFsxXTtcbiAgICAgICAgaWYgKG0ubGVuZ3RoID09IDEpIG0gPSAnMCcgKyBtO1xuICAgICAgICBpZiAoZC5sZW5ndGggPT0gMSkgZCA9ICcwJyArIGQ7XG4gICAgICAgIGR0MiA9IHkgKyBtICsgZDtcbiAgICAgICAgaWYgKGR0MSA9PSBkdDIpIHJldHVybiAwO1xuICAgICAgICBpZiAoZHQxIDwgZHQyKSByZXR1cm4gLTE7XG4gICAgICAgIHJldHVybiAxO1xuICAgIH0sXG4gICAgc29ydF9tbWRkOiBmdW5jdGlvbihhLCBiKSB7XG4gICAgICAgIG10Y2ggPSBhWzBdLm1hdGNoKHNvcnR0YWJsZS5EQVRFX1JFKTtcbiAgICAgICAgeSA9IG10Y2hbM107XG4gICAgICAgIGQgPSBtdGNoWzJdO1xuICAgICAgICBtID0gbXRjaFsxXTtcbiAgICAgICAgaWYgKG0ubGVuZ3RoID09IDEpIG0gPSAnMCcgKyBtO1xuICAgICAgICBpZiAoZC5sZW5ndGggPT0gMSkgZCA9ICcwJyArIGQ7XG4gICAgICAgIGR0MSA9IHkgKyBtICsgZDtcbiAgICAgICAgbXRjaCA9IGJbMF0ubWF0Y2goc29ydHRhYmxlLkRBVEVfUkUpO1xuICAgICAgICB5ID0gbXRjaFszXTtcbiAgICAgICAgZCA9IG10Y2hbMl07XG4gICAgICAgIG0gPSBtdGNoWzFdO1xuICAgICAgICBpZiAobS5sZW5ndGggPT0gMSkgbSA9ICcwJyArIG07XG4gICAgICAgIGlmIChkLmxlbmd0aCA9PSAxKSBkID0gJzAnICsgZDtcbiAgICAgICAgZHQyID0geSArIG0gKyBkO1xuICAgICAgICBpZiAoZHQxID09IGR0MikgcmV0dXJuIDA7XG4gICAgICAgIGlmIChkdDEgPCBkdDIpIHJldHVybiAtMTtcbiAgICAgICAgcmV0dXJuIDE7XG4gICAgfSxcblxuICAgIHNoYWtlcl9zb3J0OiBmdW5jdGlvbihsaXN0LCBjb21wX2Z1bmMpIHtcbiAgICAgICAgLy8gQSBzdGFibGUgc29ydCBmdW5jdGlvbiB0byBhbGxvdyBtdWx0aS1sZXZlbCBzb3J0aW5nIG9mIGRhdGFcbiAgICAgICAgLy8gc2VlOiBodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0NvY2t0YWlsX3NvcnRcbiAgICAgICAgLy8gdGhhbmtzIHRvIEpvc2VwaCBOYWhtaWFzXG4gICAgICAgIHZhciBiID0gMDtcbiAgICAgICAgdmFyIHQgPSBsaXN0Lmxlbmd0aCAtIDE7XG4gICAgICAgIHZhciBzd2FwID0gdHJ1ZTtcblxuICAgICAgICB3aGlsZSAoc3dhcCkge1xuICAgICAgICAgICAgc3dhcCA9IGZhbHNlO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IGI7IGkgPCB0OyArK2kpIHtcbiAgICAgICAgICAgICAgICBpZiAoY29tcF9mdW5jKGxpc3RbaV0sIGxpc3RbaSArIDFdKSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHEgPSBsaXN0W2ldO1xuICAgICAgICAgICAgICAgICAgICBsaXN0W2ldID0gbGlzdFtpICsgMV07XG4gICAgICAgICAgICAgICAgICAgIGxpc3RbaSArIDFdID0gcTtcbiAgICAgICAgICAgICAgICAgICAgc3dhcCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSAvLyBmb3JcbiAgICAgICAgICAgIHQtLTtcblxuICAgICAgICAgICAgaWYgKCFzd2FwKSBicmVhaztcblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IHQ7IGkgPiBiOyAtLWkpIHtcbiAgICAgICAgICAgICAgICBpZiAoY29tcF9mdW5jKGxpc3RbaV0sIGxpc3RbaSAtIDFdKSA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHEgPSBsaXN0W2ldO1xuICAgICAgICAgICAgICAgICAgICBsaXN0W2ldID0gbGlzdFtpIC0gMV07XG4gICAgICAgICAgICAgICAgICAgIGxpc3RbaSAtIDFdID0gcTtcbiAgICAgICAgICAgICAgICAgICAgc3dhcCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSAvLyBmb3JcbiAgICAgICAgICAgIGIrKztcblxuICAgICAgICB9IC8vIHdoaWxlKHN3YXApXG4gICAgfVxufVxuXG4vKiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAgIFN1cHBvcnRpbmcgZnVuY3Rpb25zOiBidW5kbGVkIGhlcmUgdG8gYXZvaWQgZGVwZW5kaW5nIG9uIGEgbGlicmFyeVxuICAgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXG5cbi8vIERlYW4gRWR3YXJkcy9NYXR0aGlhcyBNaWxsZXIvSm9obiBSZXNpZ1xuXG4vKiBmb3IgTW96aWxsYS9PcGVyYTkgKi9cbmlmIChkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKSB7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgc29ydHRhYmxlLmluaXQsIGZhbHNlKTtcbn1cblxuLyogZm9yIEludGVybmV0IEV4cGxvcmVyICovXG4vKkBjY19vbiBAKi9cbi8qQGlmIChAX3dpbjMyKVxuICAgIGRvY3VtZW50LndyaXRlKFwiPHNjcmlwdCBpZD1fX2llX29ubG9hZCBkZWZlciBzcmM9amF2YXNjcmlwdDp2b2lkKDApPjxcXC9zY3JpcHQ+XCIpO1xuICAgIHZhciBzY3JpcHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIl9faWVfb25sb2FkXCIpO1xuICAgIHNjcmlwdC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHRoaXMucmVhZHlTdGF0ZSA9PSBcImNvbXBsZXRlXCIpIHtcbiAgICAgICAgICAgIHNvcnR0YWJsZS5pbml0KCk7IC8vIGNhbGwgdGhlIG9ubG9hZCBoYW5kbGVyXG4gICAgICAgIH1cbiAgICB9O1xuLypAZW5kIEAqL1xuXG4vKiBmb3IgU2FmYXJpICovXG5pZiAoL1dlYktpdC9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkpIHsgLy8gc25pZmZcbiAgICB2YXIgX3RpbWVyID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICgvbG9hZGVkfGNvbXBsZXRlLy50ZXN0KGRvY3VtZW50LnJlYWR5U3RhdGUpKSB7XG4gICAgICAgICAgICBzb3J0dGFibGUuaW5pdCgpOyAvLyBjYWxsIHRoZSBvbmxvYWQgaGFuZGxlclxuICAgICAgICB9XG4gICAgfSwgMTApO1xufVxuXG4vKiBmb3Igb3RoZXIgYnJvd3NlcnMgKi9cbndpbmRvdy5vbmxvYWQgPSBzb3J0dGFibGUuaW5pdDtcblxuLy8gd3JpdHRlbiBieSBEZWFuIEVkd2FyZHMsIDIwMDVcbi8vIHdpdGggaW5wdXQgZnJvbSBUaW5vIFppamRlbCwgTWF0dGhpYXMgTWlsbGVyLCBEaWVnbyBQZXJpbmlcblxuLy8gaHR0cDovL2RlYW4uZWR3YXJkcy5uYW1lL3dlYmxvZy8yMDA1LzEwL2FkZC1ldmVudC9cblxuZnVuY3Rpb24gZGVhbl9hZGRFdmVudChlbGVtZW50LCB0eXBlLCBoYW5kbGVyKSB7XG4gICAgaWYgKGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcikge1xuICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgaGFuZGxlciwgZmFsc2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGFzc2lnbiBlYWNoIGV2ZW50IGhhbmRsZXIgYSB1bmlxdWUgSURcbiAgICAgICAgaWYgKCFoYW5kbGVyLiQkZ3VpZCkgaGFuZGxlci4kJGd1aWQgPSBkZWFuX2FkZEV2ZW50Lmd1aWQrKztcbiAgICAgICAgLy8gY3JlYXRlIGEgaGFzaCB0YWJsZSBvZiBldmVudCB0eXBlcyBmb3IgdGhlIGVsZW1lbnRcbiAgICAgICAgaWYgKCFlbGVtZW50LmV2ZW50cykgZWxlbWVudC5ldmVudHMgPSB7fTtcbiAgICAgICAgLy8gY3JlYXRlIGEgaGFzaCB0YWJsZSBvZiBldmVudCBoYW5kbGVycyBmb3IgZWFjaCBlbGVtZW50L2V2ZW50IHBhaXJcbiAgICAgICAgdmFyIGhhbmRsZXJzID0gZWxlbWVudC5ldmVudHNbdHlwZV07XG4gICAgICAgIGlmICghaGFuZGxlcnMpIHtcbiAgICAgICAgICAgIGhhbmRsZXJzID0gZWxlbWVudC5ldmVudHNbdHlwZV0gPSB7fTtcbiAgICAgICAgICAgIC8vIHN0b3JlIHRoZSBleGlzdGluZyBldmVudCBoYW5kbGVyIChpZiB0aGVyZSBpcyBvbmUpXG4gICAgICAgICAgICBpZiAoZWxlbWVudFtcIm9uXCIgKyB0eXBlXSkge1xuICAgICAgICAgICAgICAgIGhhbmRsZXJzWzBdID0gZWxlbWVudFtcIm9uXCIgKyB0eXBlXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBzdG9yZSB0aGUgZXZlbnQgaGFuZGxlciBpbiB0aGUgaGFzaCB0YWJsZVxuICAgICAgICBoYW5kbGVyc1toYW5kbGVyLiQkZ3VpZF0gPSBoYW5kbGVyO1xuICAgICAgICAvLyBhc3NpZ24gYSBnbG9iYWwgZXZlbnQgaGFuZGxlciB0byBkbyBhbGwgdGhlIHdvcmtcbiAgICAgICAgZWxlbWVudFtcIm9uXCIgKyB0eXBlXSA9IGhhbmRsZUV2ZW50O1xuICAgIH1cbn07XG4vLyBhIGNvdW50ZXIgdXNlZCB0byBjcmVhdGUgdW5pcXVlIElEc1xuZGVhbl9hZGRFdmVudC5ndWlkID0gMTtcblxuZnVuY3Rpb24gcmVtb3ZlRXZlbnQoZWxlbWVudCwgdHlwZSwgaGFuZGxlcikge1xuICAgIGlmIChlbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIpIHtcbiAgICAgICAgZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIGhhbmRsZXIsIGZhbHNlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICAvLyBkZWxldGUgdGhlIGV2ZW50IGhhbmRsZXIgZnJvbSB0aGUgaGFzaCB0YWJsZVxuICAgICAgICBpZiAoZWxlbWVudC5ldmVudHMgJiYgZWxlbWVudC5ldmVudHNbdHlwZV0pIHtcbiAgICAgICAgICAgIGRlbGV0ZSBlbGVtZW50LmV2ZW50c1t0eXBlXVtoYW5kbGVyLiQkZ3VpZF07XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG5mdW5jdGlvbiBoYW5kbGVFdmVudChldmVudCkge1xuICAgIHZhciByZXR1cm5WYWx1ZSA9IHRydWU7XG4gICAgLy8gZ3JhYiB0aGUgZXZlbnQgb2JqZWN0IChJRSB1c2VzIGEgZ2xvYmFsIGV2ZW50IG9iamVjdClcbiAgICBldmVudCA9IGV2ZW50IHx8IGZpeEV2ZW50KCgodGhpcy5vd25lckRvY3VtZW50IHx8IHRoaXMuZG9jdW1lbnQgfHwgdGhpcykucGFyZW50V2luZG93IHx8IHdpbmRvdykuZXZlbnQpO1xuICAgIC8vIGdldCBhIHJlZmVyZW5jZSB0byB0aGUgaGFzaCB0YWJsZSBvZiBldmVudCBoYW5kbGVyc1xuICAgIHZhciBoYW5kbGVycyA9IHRoaXMuZXZlbnRzW2V2ZW50LnR5cGVdO1xuICAgIC8vIGV4ZWN1dGUgZWFjaCBldmVudCBoYW5kbGVyXG4gICAgZm9yICh2YXIgaSBpbiBoYW5kbGVycykge1xuICAgICAgICB0aGlzLiQkaGFuZGxlRXZlbnQgPSBoYW5kbGVyc1tpXTtcbiAgICAgICAgaWYgKHRoaXMuJCRoYW5kbGVFdmVudChldmVudCkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICByZXR1cm5WYWx1ZSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXR1cm5WYWx1ZTtcbn07XG5cbmZ1bmN0aW9uIGZpeEV2ZW50KGV2ZW50KSB7XG4gICAgLy8gYWRkIFczQyBzdGFuZGFyZCBldmVudCBtZXRob2RzXG4gICAgZXZlbnQucHJldmVudERlZmF1bHQgPSBmaXhFdmVudC5wcmV2ZW50RGVmYXVsdDtcbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24gPSBmaXhFdmVudC5zdG9wUHJvcGFnYXRpb247XG4gICAgcmV0dXJuIGV2ZW50O1xufTtcbmZpeEV2ZW50LnByZXZlbnREZWZhdWx0ID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5yZXR1cm5WYWx1ZSA9IGZhbHNlO1xufTtcbmZpeEV2ZW50LnN0b3BQcm9wYWdhdGlvbiA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuY2FuY2VsQnViYmxlID0gdHJ1ZTtcbn1cblxuLy8gRGVhbidzIGZvckVhY2g6IGh0dHA6Ly9kZWFuLmVkd2FyZHMubmFtZS9iYXNlL2ZvckVhY2guanNcbi8qXG5cdGZvckVhY2gsIHZlcnNpb24gMS4wXG5cdENvcHlyaWdodCAyMDA2LCBEZWFuIEVkd2FyZHNcblx0TGljZW5zZTogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcbiovXG5cbi8vIGFycmF5LWxpa2UgZW51bWVyYXRpb25cbmlmICghQXJyYXkuZm9yRWFjaCkgeyAvLyBtb3ppbGxhIGFscmVhZHkgc3VwcG9ydHMgdGhpc1xuICAgIEFycmF5LmZvckVhY2ggPSBmdW5jdGlvbihhcnJheSwgYmxvY2ssIGNvbnRleHQpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYmxvY2suY2FsbChjb250ZXh0LCBhcnJheVtpXSwgaSwgYXJyYXkpO1xuICAgICAgICB9XG4gICAgfTtcbn1cblxuLy8gZ2VuZXJpYyBlbnVtZXJhdGlvblxuRnVuY3Rpb24ucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbihvYmplY3QsIGJsb2NrLCBjb250ZXh0KSB7XG4gICAgZm9yICh2YXIga2V5IGluIG9iamVjdCkge1xuICAgICAgICBpZiAodHlwZW9mIHRoaXMucHJvdG90eXBlW2tleV0gPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgYmxvY2suY2FsbChjb250ZXh0LCBvYmplY3Rba2V5XSwga2V5LCBvYmplY3QpO1xuICAgICAgICB9XG4gICAgfVxufTtcblxuLy8gY2hhcmFjdGVyIGVudW1lcmF0aW9uXG5TdHJpbmcuZm9yRWFjaCA9IGZ1bmN0aW9uKHN0cmluZywgYmxvY2ssIGNvbnRleHQpIHtcbiAgICBBcnJheS5mb3JFYWNoKHN0cmluZy5zcGxpdChcIlwiKSwgZnVuY3Rpb24oY2hyLCBpbmRleCkge1xuICAgICAgICBibG9jay5jYWxsKGNvbnRleHQsIGNociwgaW5kZXgsIHN0cmluZyk7XG4gICAgfSk7XG59O1xuXG4vLyBnbG9iYWxseSByZXNvbHZlIGZvckVhY2ggZW51bWVyYXRpb25cbnZhciBmb3JFYWNoID0gZnVuY3Rpb24ob2JqZWN0LCBibG9jaywgY29udGV4dCkge1xuICAgIGlmIChvYmplY3QpIHtcbiAgICAgICAgdmFyIHJlc29sdmUgPSBPYmplY3Q7IC8vIGRlZmF1bHRcbiAgICAgICAgaWYgKG9iamVjdCBpbnN0YW5jZW9mIEZ1bmN0aW9uKSB7XG4gICAgICAgICAgICAvLyBmdW5jdGlvbnMgaGF2ZSBhIFwibGVuZ3RoXCIgcHJvcGVydHlcbiAgICAgICAgICAgIHJlc29sdmUgPSBGdW5jdGlvbjtcbiAgICAgICAgfSBlbHNlIGlmIChvYmplY3QuZm9yRWFjaCBpbnN0YW5jZW9mIEZ1bmN0aW9uKSB7XG4gICAgICAgICAgICAvLyB0aGUgb2JqZWN0IGltcGxlbWVudHMgYSBjdXN0b20gZm9yRWFjaCBtZXRob2Qgc28gdXNlIHRoYXRcbiAgICAgICAgICAgIG9iamVjdC5mb3JFYWNoKGJsb2NrLCBjb250ZXh0KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2Ygb2JqZWN0ID09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIC8vIHRoZSBvYmplY3QgaXMgYSBzdHJpbmdcbiAgICAgICAgICAgIHJlc29sdmUgPSBTdHJpbmc7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIG9iamVjdC5sZW5ndGggPT0gXCJudW1iZXJcIikge1xuICAgICAgICAgICAgLy8gdGhlIG9iamVjdCBpcyBhcnJheS1saWtlXG4gICAgICAgICAgICByZXNvbHZlID0gQXJyYXk7XG4gICAgICAgIH1cbiAgICAgICAgcmVzb2x2ZS5mb3JFYWNoKG9iamVjdCwgYmxvY2ssIGNvbnRleHQpO1xuICAgIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gc29ydHRhYmxlIl0sInNvdXJjZVJvb3QiOiIifQ==