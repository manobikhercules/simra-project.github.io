!function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(o,r,function(e){return t[e]}.bind(null,r));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=0)}([function(t,e,n){n(1);const o=n(2);window.onload=function(){document.getElementById("deleteInfo").addEventListener("click",(function(t){console.log(t.target.parentNode.parentNode.remove())})),o()}},function(t,e,n){"use strict";n.r(e)},function(t,e,n){let o=n(3);function r(t,e,n,o,r){const a=document.createElement("td");a.setAttribute("data-label",o[e].text),t.appendChild(a);const s=document.createElement("div");s.className="is-flex is-align-items-center";const d=document.createElement("span");d.className="tag is-medium mr-1 is-flex-grow-1";const i=document.createTextNode(n[0].toLocaleString());if(a.setAttribute("sorttable_customkey",n[0].toString()),d.appendChild(i),s.appendChild(d),r){const t=document.createElement("span"),r=document.createElement("span");r.className="unicode-icon",n[1]>0?(t.className="tag "+o[e].tag,r.textContent="⬆"):(t.className="tag",r.textContent="➡");const a=document.createElement("span");a.className="icon-text is-flex-wrap-nowrap";const d=document.createElement("span");d.className="icon mr-0";const i=document.createElement("span");i.appendChild(document.createTextNode(n[1].toLocaleString())),d.appendChild(r),a.appendChild(d),a.appendChild(i),t.appendChild(a),s.appendChild(t)}a.appendChild(s)}t.exports=async function(){let t=document.getElementById("regionTable"),[e,n,a,s]=await Promise.all([fetch("./resources/tableMeta.json"),fetch("./resources/dashboard.json"),fetch("./resources/mapLinks.json"),fetch("./resources/regionNames.json")]),d=await e.json(),i=await n.json(),l=await a.json(),c=await s.json();!function(t){document.getElementById("totalRides").innerHTML=t.totalRides.toLocaleString(),document.getElementById("totalIncidents").innerHTML=t.totalIncidents.toLocaleString(),document.getElementById("totalKm").innerHTML=t.totalKm.toLocaleString(),document.getElementById("sourceDate").innerHTML=t.sourceDate,null!=t.diffDate?document.getElementById("diffDate").innerHTML=t.diffDate:document.getElementById("diffText").style.display="none"}(i),function(t,e,n,o,a){for(const s of e.regions){let d;try{d=a[s.name].DE}catch(t){console.log(s.name+" not found in regionNames.json"),d=s.name}const i=t.insertRow(),l=document.createElement("td");l.setAttribute("data-label",d),l.className="has-text-centered has-text-weight-bold";const c=o[s.name],m=document.createTextNode(d);if(null==c)l.appendChild(m);else{const t=document.createElement("a");t.href=c,t.appendChild(m),l.appendChild(t)}i.appendChild(l);let u=!0;null==e.diffDate&&(u=!1);for(const[t,e]of Object.entries(s))["rides","incidents","scaryIncidents","km"].includes(t)&&r(i,t,e,n,u)}}(t,i,d,l,c),function(t,e){const n=t.createTHead().insertRow();for(const[t,o]of Object.entries(e)){const t=document.createElement("th"),e=document.createElement("abbr");e.title=o.abbr;const r=document.createTextNode(o.text);e.appendChild(r),t.appendChild(e),n.appendChild(t)}}(t,d),o.makeSortable(t)}},function(t,e){
/*@cc_on @*/
if(sorttable={init:function(){arguments.callee.done||(arguments.callee.done=!0,n&&clearInterval(n),document.createElement&&document.getElementsByTagName&&(sorttable.DATE_RE=/^(\d\d?)[\/\.-](\d\d?)[\/\.-]((\d\d)?\d\d)$/,s(document.getElementsByTagName("table"),(function(t){-1!=t.className.search(/\bsortable\b/)&&sorttable.makeSortable(t)}))))},makeSortable:function(t){if(0==t.getElementsByTagName("thead").length&&(the=document.createElement("thead"),the.appendChild(t.rows[0]),t.insertBefore(the,t.firstChild)),null==t.tHead&&(t.tHead=t.getElementsByTagName("thead")[0]),1==t.tHead.rows.length){sortbottomrows=[];for(var e=0;e<t.rows.length;e++)-1!=t.rows[e].className.search(/\bsortbottom\b/)&&(sortbottomrows[sortbottomrows.length]=t.rows[e]);if(sortbottomrows){null==t.tFoot&&(tfo=document.createElement("tfoot"),t.appendChild(tfo));for(e=0;e<sortbottomrows.length;e++)tfo.appendChild(sortbottomrows[e]);delete sortbottomrows}headrow=t.tHead.rows[0].cells;for(e=0;e<headrow.length;e++)headrow[e].className.match(/\bsorttable_nosort\b/)||(mtch=headrow[e].className.match(/\bsorttable_([a-z0-9]+)\b/),mtch&&(override=mtch[1]),mtch&&"function"==typeof sorttable["sort_"+override]?headrow[e].sorttable_sortfunction=sorttable["sort_"+override]:headrow[e].sorttable_sortfunction=sorttable.guessType(t,e),headrow[e].sorttable_columnindex=e,headrow[e].sorttable_tbody=t.tBodies[0],o(headrow[e],"click",sorttable.innerSortFunction=function(t){if(-1!=this.className.search(/\bsorttable_sorted\b/))return sorttable.reverse(this.sorttable_tbody),this.className=this.className.replace("sorttable_sorted","sorttable_sorted_reverse"),this.removeChild(document.getElementById("sorttable_sortfwdind")),sortrevind=document.createElement("span"),sortrevind.id="sorttable_sortrevind",sortrevind.innerHTML="&nbsp;&#x25BE;",void this.appendChild(sortrevind);if(-1!=this.className.search(/\bsorttable_sorted_reverse\b/))return sorttable.reverse(this.sorttable_tbody),this.className=this.className.replace("sorttable_sorted_reverse","sorttable_sorted"),this.removeChild(document.getElementById("sorttable_sortrevind")),sortfwdind=document.createElement("span"),sortfwdind.id="sorttable_sortfwdind",sortfwdind.innerHTML="&nbsp;&#x25B4;",void this.appendChild(sortfwdind);theadrow=this.parentNode,s(theadrow.childNodes,(function(t){1==t.nodeType&&(t.className=t.className.replace("sorttable_sorted_reverse",""),t.className=t.className.replace("sorttable_sorted",""))})),sortfwdind=document.getElementById("sorttable_sortfwdind"),sortfwdind&&sortfwdind.parentNode.removeChild(sortfwdind),sortrevind=document.getElementById("sorttable_sortrevind"),sortrevind&&sortrevind.parentNode.removeChild(sortrevind),this.className+=" sorttable_sorted",sortfwdind=document.createElement("span"),sortfwdind.id="sorttable_sortfwdind",sortfwdind.innerHTML="&nbsp;&#x25B4;",this.appendChild(sortfwdind),row_array=[],col=this.sorttable_columnindex,rows=this.sorttable_tbody.rows;for(var e=0;e<rows.length;e++)row_array[row_array.length]=[sorttable.getInnerText(rows[e].cells[col]),rows[e]];row_array.sort(this.sorttable_sortfunction),tb=this.sorttable_tbody;for(e=0;e<row_array.length;e++)tb.appendChild(row_array[e][1]);delete row_array}))}},guessType:function(t,e){sortfn=sorttable.sort_alpha;for(var n=0;n<t.tBodies[0].rows.length;n++)if(text=sorttable.getInnerText(t.tBodies[0].rows[n].cells[e]),""!=text){if(text.match(/^-?[�$�]?[\d,.]+%?$/))return sorttable.sort_numeric;if(possdate=text.match(sorttable.DATE_RE),possdate){if(first=parseInt(possdate[1]),second=parseInt(possdate[2]),first>12)return sorttable.sort_ddmm;if(second>12)return sorttable.sort_mmdd;sortfn=sorttable.sort_ddmm}}return sortfn},getInnerText:function(t){if(!t)return"";if(hasInputs="function"==typeof t.getElementsByTagName&&t.getElementsByTagName("input").length,null!=t.getAttribute("sorttable_customkey"))return t.getAttribute("sorttable_customkey");if(void 0!==t.textContent&&!hasInputs)return t.textContent.replace(/^\s+|\s+$/g,"");if(void 0!==t.innerText&&!hasInputs)return t.innerText.replace(/^\s+|\s+$/g,"");if(void 0!==t.text&&!hasInputs)return t.text.replace(/^\s+|\s+$/g,"");switch(t.nodeType){case 3:if("input"==t.nodeName.toLowerCase())return t.value.replace(/^\s+|\s+$/g,"");case 4:return t.nodeValue.replace(/^\s+|\s+$/g,"");case 1:case 11:for(var e="",n=0;n<t.childNodes.length;n++)e+=sorttable.getInnerText(t.childNodes[n]);return e.replace(/^\s+|\s+$/g,"");default:return""}},reverse:function(t){newrows=[];for(var e=0;e<t.rows.length;e++)newrows[newrows.length]=t.rows[e];for(e=newrows.length-1;e>=0;e--)t.appendChild(newrows[e]);delete newrows},sort_numeric:function(t,e){return aa=parseFloat(t[0].replace(/[^0-9.-]/g,"")),isNaN(aa)&&(aa=0),bb=parseFloat(e[0].replace(/[^0-9.-]/g,"")),isNaN(bb)&&(bb=0),aa-bb},sort_alpha:function(t,e){return t[0]==e[0]?0:t[0]<e[0]?-1:1},sort_ddmm:function(t,e){return mtch=t[0].match(sorttable.DATE_RE),y=mtch[3],m=mtch[2],d=mtch[1],1==m.length&&(m="0"+m),1==d.length&&(d="0"+d),dt1=y+m+d,mtch=e[0].match(sorttable.DATE_RE),y=mtch[3],m=mtch[2],d=mtch[1],1==m.length&&(m="0"+m),1==d.length&&(d="0"+d),dt2=y+m+d,dt1==dt2?0:dt1<dt2?-1:1},sort_mmdd:function(t,e){return mtch=t[0].match(sorttable.DATE_RE),y=mtch[3],d=mtch[2],m=mtch[1],1==m.length&&(m="0"+m),1==d.length&&(d="0"+d),dt1=y+m+d,mtch=e[0].match(sorttable.DATE_RE),y=mtch[3],d=mtch[2],m=mtch[1],1==m.length&&(m="0"+m),1==d.length&&(d="0"+d),dt2=y+m+d,dt1==dt2?0:dt1<dt2?-1:1},shaker_sort:function(t,e){for(var n=0,o=t.length-1,r=!0;r;){r=!1;for(var a=n;a<o;++a)if(e(t[a],t[a+1])>0){var s=t[a];t[a]=t[a+1],t[a+1]=s,r=!0}if(o--,!r)break;for(a=o;a>n;--a)if(e(t[a],t[a-1])<0){s=t[a];t[a]=t[a-1],t[a-1]=s,r=!0}n++}}},document.addEventListener&&document.addEventListener("DOMContentLoaded",sorttable.init,!1),/WebKit/i.test(navigator.userAgent))var n=setInterval((function(){/loaded|complete/.test(document.readyState)&&sorttable.init()}),10);function o(t,e,n){if(t.addEventListener)t.addEventListener(e,n,!1);else{n.$$guid||(n.$$guid=o.guid++),t.events||(t.events={});var a=t.events[e];a||(a=t.events[e]={},t["on"+e]&&(a[0]=t["on"+e])),a[n.$$guid]=n,t["on"+e]=r}}function r(t){var e=!0;t=t||a(((this.ownerDocument||this.document||this).parentWindow||window).event);var n=this.events[t.type];for(var o in n)this.$$handleEvent=n[o],!1===this.$$handleEvent(t)&&(e=!1);return e}function a(t){return t.preventDefault=a.preventDefault,t.stopPropagation=a.stopPropagation,t}window.onload=sorttable.init,o.guid=1,a.preventDefault=function(){this.returnValue=!1},a.stopPropagation=function(){this.cancelBubble=!0},Array.forEach||(Array.forEach=function(t,e,n){for(var o=0;o<t.length;o++)e.call(n,t[o],o,t)}),Function.prototype.forEach=function(t,e,n){for(var o in t)void 0===this.prototype[o]&&e.call(n,t[o],o,t)},String.forEach=function(t,e,n){Array.forEach(t.split(""),(function(o,r){e.call(n,o,r,t)}))};var s=function(t,e,n){if(t){var o=Object;if(t instanceof Function)o=Function;else{if(t.forEach instanceof Function)return void t.forEach(e,n);"string"==typeof t?o=String:"number"==typeof t.length&&(o=Array)}o.forEach(t,e,n)}};t.exports=sorttable}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9teXN0eWxlcy5zY3NzIiwid2VicGFjazovLy8uL3NyYy90YWJsZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvc29ydHRhYmxlLmpzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiZmlsbFRhYmxlIiwid2luZG93Iiwib25sb2FkIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJldmVudCIsImNvbnNvbGUiLCJsb2ciLCJ0YXJnZXQiLCJwYXJlbnROb2RlIiwicmVtb3ZlIiwic29ydHRhYmxlIiwiZ2VuZXJhdGVTdGF0Q29sdW1uIiwicm93IiwidGFibGVNZXRhIiwiZGlmZnMiLCJjZWxsIiwiY3JlYXRlRWxlbWVudCIsInNldEF0dHJpYnV0ZSIsInRleHQiLCJhcHBlbmRDaGlsZCIsImRpdiIsImNsYXNzTmFtZSIsInRvdGFsU3BhbiIsInRvdGFsU3BhblRleHQiLCJjcmVhdGVUZXh0Tm9kZSIsInRvTG9jYWxlU3RyaW5nIiwidG9TdHJpbmciLCJkaXZTcGFuIiwiaWNvbiIsInRhZyIsInRleHRDb250ZW50IiwiaWNvblRleHQiLCJpY29uU3BhbiIsImRpZmZWYWx1ZSIsImFzeW5jIiwidGFibGUiLCJyMSIsInIyIiwicjMiLCJyNCIsIlByb21pc2UiLCJhbGwiLCJmZXRjaCIsImpzb24iLCJkYXNoYm9hcmQiLCJtYXBMaW5rcyIsInJlZ2lvbk5hbWVzIiwiaW5uZXJIVE1MIiwidG90YWxSaWRlcyIsInRvdGFsSW5jaWRlbnRzIiwidG90YWxLbSIsInNvdXJjZURhdGUiLCJ1bmRlZmluZWQiLCJkaWZmRGF0ZSIsInN0eWxlIiwiZGlzcGxheSIsInVwZGF0ZVRvdGFscyIsInJlZ2lvbiIsInJlZ2lvbnMiLCJzaG93bk5hbWUiLCJlcnIiLCJpbnNlcnRSb3ciLCJ0aCIsImxpbmsiLCJ0ZXh0TmFtZSIsImEiLCJocmVmIiwiZW50cmllcyIsImluY2x1ZGVzIiwiZ2VuZXJhdGVUYWJsZSIsImNyZWF0ZVRIZWFkIiwiYWJiciIsInRpdGxlIiwiZ2VuZXJhdGVUYWJsZUhlYWQiLCJtYWtlU29ydGFibGUiLCJpbml0IiwiYXJndW1lbnRzIiwiY2FsbGVlIiwiZG9uZSIsIl90aW1lciIsImNsZWFySW50ZXJ2YWwiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsIkRBVEVfUkUiLCJmb3JFYWNoIiwic2VhcmNoIiwibGVuZ3RoIiwidGhlIiwicm93cyIsImluc2VydEJlZm9yZSIsImZpcnN0Q2hpbGQiLCJ0SGVhZCIsInNvcnRib3R0b21yb3dzIiwidEZvb3QiLCJ0Zm8iLCJoZWFkcm93IiwiY2VsbHMiLCJtYXRjaCIsIm10Y2giLCJvdmVycmlkZSIsInNvcnR0YWJsZV9zb3J0ZnVuY3Rpb24iLCJndWVzc1R5cGUiLCJzb3J0dGFibGVfY29sdW1uaW5kZXgiLCJzb3J0dGFibGVfdGJvZHkiLCJ0Qm9kaWVzIiwiZGVhbl9hZGRFdmVudCIsImlubmVyU29ydEZ1bmN0aW9uIiwiZSIsInRoaXMiLCJyZXZlcnNlIiwicmVwbGFjZSIsInJlbW92ZUNoaWxkIiwic29ydHJldmluZCIsImlkIiwic29ydGZ3ZGluZCIsInRoZWFkcm93IiwiY2hpbGROb2RlcyIsIm5vZGVUeXBlIiwicm93X2FycmF5IiwiY29sIiwiaiIsImdldElubmVyVGV4dCIsInNvcnQiLCJ0YiIsImNvbHVtbiIsInNvcnRmbiIsInNvcnRfYWxwaGEiLCJzb3J0X251bWVyaWMiLCJwb3NzZGF0ZSIsImZpcnN0IiwicGFyc2VJbnQiLCJzZWNvbmQiLCJzb3J0X2RkbW0iLCJzb3J0X21tZGQiLCJub2RlIiwiaGFzSW5wdXRzIiwiZ2V0QXR0cmlidXRlIiwiaW5uZXJUZXh0Iiwibm9kZU5hbWUiLCJ0b0xvd2VyQ2FzZSIsIm5vZGVWYWx1ZSIsInRib2R5IiwibmV3cm93cyIsImIiLCJhYSIsInBhcnNlRmxvYXQiLCJpc05hTiIsImJiIiwieSIsImR0MSIsImR0MiIsInNoYWtlcl9zb3J0IiwibGlzdCIsImNvbXBfZnVuYyIsInN3YXAiLCJxIiwidGVzdCIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsInNldEludGVydmFsIiwicmVhZHlTdGF0ZSIsImVsZW1lbnQiLCJ0eXBlIiwiaGFuZGxlciIsIiQkZ3VpZCIsImd1aWQiLCJldmVudHMiLCJoYW5kbGVycyIsImhhbmRsZUV2ZW50IiwicmV0dXJuVmFsdWUiLCJmaXhFdmVudCIsIm93bmVyRG9jdW1lbnQiLCJwYXJlbnRXaW5kb3ciLCIkJGhhbmRsZUV2ZW50IiwicHJldmVudERlZmF1bHQiLCJzdG9wUHJvcGFnYXRpb24iLCJjYW5jZWxCdWJibGUiLCJBcnJheSIsImFycmF5IiwiYmxvY2siLCJjb250ZXh0IiwiRnVuY3Rpb24iLCJTdHJpbmciLCJzdHJpbmciLCJzcGxpdCIsImNociIsImluZGV4IiwicmVzb2x2ZSJdLCJtYXBwaW5ncyI6ImFBQ0UsSUFBSUEsRUFBbUIsR0FHdkIsU0FBU0MsRUFBb0JDLEdBRzVCLEdBQUdGLEVBQWlCRSxHQUNuQixPQUFPRixFQUFpQkUsR0FBVUMsUUFHbkMsSUFBSUMsRUFBU0osRUFBaUJFLEdBQVksQ0FDekNHLEVBQUdILEVBQ0hJLEdBQUcsRUFDSEgsUUFBUyxJQVVWLE9BTkFJLEVBQVFMLEdBQVVNLEtBQUtK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cyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSAwKTtcbiIsInJlcXVpcmUoJy4vbXlzdHlsZXMuc2NzcycpO1xuY29uc3QgZmlsbFRhYmxlID0gcmVxdWlyZShcIi4vdGFibGUuanNcIilcblxud2luZG93Lm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZGVsZXRlSW5mb1wiKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgIGNvbnNvbGUubG9nKGV2ZW50LnRhcmdldC5wYXJlbnROb2RlLnBhcmVudE5vZGUucmVtb3ZlKCkpXG4gICAgfSk7XG5cbiAgICBmaWxsVGFibGUoKVxufSIsIi8vIGV4dHJhY3RlZCBieSBtaW5pLWNzcy1leHRyYWN0LXBsdWdpblxuZXhwb3J0IHt9OyIsImxldCBzb3J0dGFibGUgPSByZXF1aXJlKFwiLi9zb3J0dGFibGUuanNcIilcblxuZnVuY3Rpb24gZ2VuZXJhdGVUYWJsZUhlYWQodGFibGUsIHRhYmxlTWV0YSkge1xuICAgIGNvbnN0IHRoZWFkID0gdGFibGUuY3JlYXRlVEhlYWQoKTtcbiAgICBjb25zdCByb3cgPSB0aGVhZC5pbnNlcnRSb3coKTtcbiAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyh0YWJsZU1ldGEpKSB7XG4gICAgICAgIGNvbnN0IHRoID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRoXCIpO1xuICAgICAgICBjb25zdCBhYmJyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFiYnJcIilcbiAgICAgICAgYWJici50aXRsZSA9IHZhbHVlLmFiYnJcbiAgICAgICAgY29uc3QgdGV4dCA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHZhbHVlLnRleHQpO1xuICAgICAgICBhYmJyLmFwcGVuZENoaWxkKHRleHQpXG4gICAgICAgIHRoLmFwcGVuZENoaWxkKGFiYnIpO1xuICAgICAgICByb3cuYXBwZW5kQ2hpbGQodGgpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZ2VuZXJhdGVUYWJsZSh0YWJsZSwgZGFzaGJvYXJkLCB0YWJsZU1ldGEsIG1hcExpbmtzLCByZWdpb25OYW1lcykge1xuICAgIGZvciAoY29uc3QgcmVnaW9uIG9mIGRhc2hib2FyZC5yZWdpb25zKSB7XG4gICAgICAgIGxldCBzaG93bk5hbWVcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHNob3duTmFtZSA9IHJlZ2lvbk5hbWVzW3JlZ2lvbi5uYW1lXVtcIkRFXCJdXG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgY29uc29sZS5sb2cocmVnaW9uLm5hbWUgKyBcIiBub3QgZm91bmQgaW4gcmVnaW9uTmFtZXMuanNvblwiKVxuICAgICAgICAgICAgc2hvd25OYW1lID0gcmVnaW9uLm5hbWVcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHJvdyA9IHRhYmxlLmluc2VydFJvdygpO1xuICAgICAgICAvLyBuYW1lIGNvbHVtblxuICAgICAgICBjb25zdCB0aCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZFwiKVxuICAgICAgICB0aC5zZXRBdHRyaWJ1dGUoXCJkYXRhLWxhYmVsXCIsIHNob3duTmFtZSlcbiAgICAgICAgdGguY2xhc3NOYW1lID0gXCJoYXMtdGV4dC1jZW50ZXJlZCBoYXMtdGV4dC13ZWlnaHQtYm9sZFwiXG5cbiAgICAgICAgY29uc3QgbGluayA9IG1hcExpbmtzW3JlZ2lvbi5uYW1lXVxuICAgICAgICBjb25zdCB0ZXh0TmFtZSA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHNob3duTmFtZSk7XG4gICAgICAgIGlmIChsaW5rID09IG51bGwpIHtcbiAgICAgICAgICAgIHRoLmFwcGVuZENoaWxkKHRleHROYW1lKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJhXCIpXG4gICAgICAgICAgICBhLmhyZWYgPSBsaW5rXG4gICAgICAgICAgICBhLmFwcGVuZENoaWxkKHRleHROYW1lKVxuICAgICAgICAgICAgdGguYXBwZW5kQ2hpbGQoYSlcbiAgICAgICAgfVxuICAgICAgICByb3cuYXBwZW5kQ2hpbGQodGgpXG5cbiAgICAgICAgbGV0IGRpZmZzID0gdHJ1ZVxuICAgICAgICBpZiAoZGFzaGJvYXJkLmRpZmZEYXRlID09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZGlmZnMgPSBmYWxzZVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gc3RhdCBjb2x1bW5zXG4gICAgICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKHJlZ2lvbikpIHtcbiAgICAgICAgICAgIGlmIChbXCJyaWRlc1wiLCBcImluY2lkZW50c1wiLCBcInNjYXJ5SW5jaWRlbnRzXCIsIFwia21cIl0uaW5jbHVkZXMoa2V5KSkge1xuICAgICAgICAgICAgICAgIGdlbmVyYXRlU3RhdENvbHVtbihyb3csIGtleSwgdmFsdWUsIHRhYmxlTWV0YSwgZGlmZnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuXG4vLyBrZXkgPSByaWRlcywgdmFsdWUgPSBbMTAwLCAxXSwgZGlmZnMgPSB0cnVlL2ZhbHNlXG5mdW5jdGlvbiBnZW5lcmF0ZVN0YXRDb2x1bW4ocm93LCBrZXksIHZhbHVlLCB0YWJsZU1ldGEsIGRpZmZzKSB7XG4gICAgLy8gY3JlYXRlIGNlbGwgYW5kIGFwcGVuZCBhbHJlYWR5IHRvIHJvd1xuICAgIGNvbnN0IGNlbGwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGRcIilcbiAgICBjZWxsLnNldEF0dHJpYnV0ZShcImRhdGEtbGFiZWxcIiwgdGFibGVNZXRhW2tleV0udGV4dCk7XG4gICAgcm93LmFwcGVuZENoaWxkKGNlbGwpXG5cbiAgICAvLyBjcmVhdGUgZGl2XG4gICAgY29uc3QgZGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKVxuICAgIGRpdi5jbGFzc05hbWUgPSBcImlzLWZsZXggaXMtYWxpZ24taXRlbXMtY2VudGVyXCI7XG5cbiAgICAvLyBjcmVhdGUgdG90YWwgc3BhblxuICAgIGNvbnN0IHRvdGFsU3BhbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpXG4gICAgdG90YWxTcGFuLmNsYXNzTmFtZSA9IFwidGFnIGlzLW1lZGl1bSBtci0xIGlzLWZsZXgtZ3Jvdy0xXCJcbiAgICAvLyBjcmVhdGUgdG90YWwgc3BhbiB0ZXh0XG4gICAgY29uc3QgdG90YWxTcGFuVGV4dCA9IGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHZhbHVlWzBdLnRvTG9jYWxlU3RyaW5nKCkpXG4gICAgLy8gc2V0IHNvcnQta2V5IG9mIGNlbGwgdG8gdmFsdWVcbiAgICBjZWxsLnNldEF0dHJpYnV0ZShcInNvcnR0YWJsZV9jdXN0b21rZXlcIiwgdmFsdWVbMF0udG9TdHJpbmcoKSlcblxuICAgIC8vIGFwcGVuZCBlbGVtZW50c1xuICAgIHRvdGFsU3Bhbi5hcHBlbmRDaGlsZCh0b3RhbFNwYW5UZXh0KVxuICAgIGRpdi5hcHBlbmRDaGlsZCh0b3RhbFNwYW4pXG5cbiAgICBpZiAoZGlmZnMpIHtcbiAgICAgICAgLy8gY3JlYXRlIGRpZmYgc3BhblxuICAgICAgICBjb25zdCBkaXZTcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIilcbiAgICAgICAgY29uc3QgaWNvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpXG4gICAgICAgIGljb24uY2xhc3NOYW1lID0gXCJ1bmljb2RlLWljb25cIlxuICAgICAgICBpZiAodmFsdWVbMV0gPiAwKSB7XG4gICAgICAgICAgICBkaXZTcGFuLmNsYXNzTmFtZSA9IFwidGFnIFwiICsgdGFibGVNZXRhW2tleV0udGFnXG4gICAgICAgICAgICBpY29uLnRleHRDb250ZW50ID0gXCLirIZcIlxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZGl2U3Bhbi5jbGFzc05hbWUgPSBcInRhZ1wiXG4gICAgICAgICAgICBpY29uLnRleHRDb250ZW50ID0gXCLinqFcIlxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGljb25UZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIilcbiAgICAgICAgaWNvblRleHQuY2xhc3NOYW1lID0gXCJpY29uLXRleHQgaXMtZmxleC13cmFwLW5vd3JhcFwiXG4gICAgICAgIGNvbnN0IGljb25TcGFuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIilcbiAgICAgICAgaWNvblNwYW4uY2xhc3NOYW1lID0gXCJpY29uIG1yLTBcIlxuICAgICAgICBjb25zdCBkaWZmVmFsdWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKVxuICAgICAgICBkaWZmVmFsdWUuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodmFsdWVbMV0udG9Mb2NhbGVTdHJpbmcoKSkpXG5cbiAgICAgICAgLy8gYXBwZW5kIGVsZW1lbnRzIGluIHJldmVyc2UgY3JlYXRpb24gb3JkZXIgdG8gY2VsbFxuICAgICAgICBpY29uU3Bhbi5hcHBlbmRDaGlsZChpY29uKVxuICAgICAgICBpY29uVGV4dC5hcHBlbmRDaGlsZChpY29uU3BhbilcbiAgICAgICAgaWNvblRleHQuYXBwZW5kQ2hpbGQoZGlmZlZhbHVlKVxuICAgICAgICBkaXZTcGFuLmFwcGVuZENoaWxkKGljb25UZXh0KVxuICAgICAgICBkaXYuYXBwZW5kQ2hpbGQoZGl2U3BhbilcbiAgICB9XG5cbiAgICBjZWxsLmFwcGVuZENoaWxkKGRpdilcbn1cblxuZnVuY3Rpb24gdXBkYXRlVG90YWxzKGRhc2hib2FyZCkge1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidG90YWxSaWRlc1wiKS5pbm5lckhUTUwgPSBkYXNoYm9hcmQudG90YWxSaWRlcy50b0xvY2FsZVN0cmluZygpXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0b3RhbEluY2lkZW50c1wiKS5pbm5lckhUTUwgPSBkYXNoYm9hcmQudG90YWxJbmNpZGVudHMudG9Mb2NhbGVTdHJpbmcoKVxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidG90YWxLbVwiKS5pbm5lckhUTUwgPSBkYXNoYm9hcmQudG90YWxLbS50b0xvY2FsZVN0cmluZygpXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzb3VyY2VEYXRlXCIpLmlubmVySFRNTCA9IGRhc2hib2FyZC5zb3VyY2VEYXRlXG5cbiAgICBpZiAoZGFzaGJvYXJkLmRpZmZEYXRlICE9IHVuZGVmaW5lZCkge1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImRpZmZEYXRlXCIpLmlubmVySFRNTCA9IGRhc2hib2FyZC5kaWZmRGF0ZVxuICAgIH0gZWxzZSB7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiZGlmZlRleHRcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgIH1cbn1cblxuYXN5bmMgZnVuY3Rpb24gZmlsbFRhYmxlKCkge1xuICAgIGxldCB0YWJsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicmVnaW9uVGFibGVcIik7XG5cbiAgICBsZXQgW3IxLCByMiwgcjMsIHI0XSA9IGF3YWl0IFByb21pc2UuYWxsKFtcbiAgICAgICAgZmV0Y2goXCIuL3Jlc291cmNlcy90YWJsZU1ldGEuanNvblwiKSxcbiAgICAgICAgZmV0Y2goXCIuL3Jlc291cmNlcy9kYXNoYm9hcmQuanNvblwiKSxcbiAgICAgICAgZmV0Y2goXCIuL3Jlc291cmNlcy9tYXBMaW5rcy5qc29uXCIpLFxuICAgICAgICBmZXRjaChcIi4vcmVzb3VyY2VzL3JlZ2lvbk5hbWVzLmpzb25cIilcbiAgICBdKVxuXG4gICAgbGV0IHRhYmxlTWV0YSA9IGF3YWl0IHIxLmpzb24oKVxuICAgIGxldCBkYXNoYm9hcmQgPSBhd2FpdCByMi5qc29uKClcbiAgICBsZXQgbWFwTGlua3MgPSBhd2FpdCByMy5qc29uKClcbiAgICBsZXQgcmVnaW9uTmFtZXMgPSBhd2FpdCByNC5qc29uKClcblxuICAgIHVwZGF0ZVRvdGFscyhkYXNoYm9hcmQpO1xuICAgIGdlbmVyYXRlVGFibGUodGFibGUsIGRhc2hib2FyZCwgdGFibGVNZXRhLCBtYXBMaW5rcywgcmVnaW9uTmFtZXMpO1xuICAgIGdlbmVyYXRlVGFibGVIZWFkKHRhYmxlLCB0YWJsZU1ldGEpO1xuXG4gICAgc29ydHRhYmxlLm1ha2VTb3J0YWJsZSh0YWJsZSlcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBmaWxsVGFibGU7IiwiLypcbiAgU29ydFRhYmxlXG4gIHZlcnNpb24gMlxuICA3dGggQXByaWwgMjAwN1xuICBTdHVhcnQgTGFuZ3JpZGdlLCBodHRwOi8vd3d3LmtyeW9nZW5peC5vcmcvY29kZS9icm93c2VyL3NvcnR0YWJsZS9cblxuICBJbnN0cnVjdGlvbnM6XG4gIERvd25sb2FkIHRoaXMgZmlsZVxuICBBZGQgPHNjcmlwdCBzcmM9XCJzb3J0dGFibGUuanNcIj48L3NjcmlwdD4gdG8geW91ciBIVE1MXG4gIEFkZCBjbGFzcz1cInNvcnRhYmxlXCIgdG8gYW55IHRhYmxlIHlvdSdkIGxpa2UgdG8gbWFrZSBzb3J0YWJsZVxuICBDbGljayBvbiB0aGUgaGVhZGVycyB0byBzb3J0XG5cbiAgVGhhbmtzIHRvIG1hbnksIG1hbnkgcGVvcGxlIGZvciBjb250cmlidXRpb25zIGFuZCBzdWdnZXN0aW9ucy5cbiAgTGljZW5jZWQgYXMgWDExOiBodHRwOi8vd3d3LmtyeW9nZW5peC5vcmcvY29kZS9icm93c2VyL2xpY2VuY2UuaHRtbFxuICBUaGlzIGJhc2ljYWxseSBtZWFuczogZG8gd2hhdCB5b3Ugd2FudCB3aXRoIGl0LlxuKi9cblxuXG52YXIgc3RJc0lFID0gLypAY2Nfb24hQCovIGZhbHNlO1xuXG5zb3J0dGFibGUgPSB7XG4gICAgaW5pdDogZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vIHF1aXQgaWYgdGhpcyBmdW5jdGlvbiBoYXMgYWxyZWFkeSBiZWVuIGNhbGxlZFxuICAgICAgICBpZiAoYXJndW1lbnRzLmNhbGxlZS5kb25lKSByZXR1cm47XG4gICAgICAgIC8vIGZsYWcgdGhpcyBmdW5jdGlvbiBzbyB3ZSBkb24ndCBkbyB0aGUgc2FtZSB0aGluZyB0d2ljZVxuICAgICAgICBhcmd1bWVudHMuY2FsbGVlLmRvbmUgPSB0cnVlO1xuICAgICAgICAvLyBraWxsIHRoZSB0aW1lclxuICAgICAgICBpZiAoX3RpbWVyKSBjbGVhckludGVydmFsKF90aW1lcik7XG5cbiAgICAgICAgaWYgKCFkb2N1bWVudC5jcmVhdGVFbGVtZW50IHx8ICFkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSkgcmV0dXJuO1xuXG4gICAgICAgIHNvcnR0YWJsZS5EQVRFX1JFID0gL14oXFxkXFxkPylbXFwvXFwuLV0oXFxkXFxkPylbXFwvXFwuLV0oKFxcZFxcZCk/XFxkXFxkKSQvO1xuXG4gICAgICAgIGZvckVhY2goZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3RhYmxlJyksIGZ1bmN0aW9uKHRhYmxlKSB7XG4gICAgICAgICAgICBpZiAodGFibGUuY2xhc3NOYW1lLnNlYXJjaCgvXFxic29ydGFibGVcXGIvKSAhPSAtMSkge1xuICAgICAgICAgICAgICAgIHNvcnR0YWJsZS5tYWtlU29ydGFibGUodGFibGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgIH0sXG5cbiAgICBtYWtlU29ydGFibGU6IGZ1bmN0aW9uKHRhYmxlKSB7XG4gICAgICAgIGlmICh0YWJsZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgndGhlYWQnKS5sZW5ndGggPT0gMCkge1xuICAgICAgICAgICAgLy8gdGFibGUgZG9lc24ndCBoYXZlIGEgdEhlYWQuIFNpbmNlIGl0IHNob3VsZCBoYXZlLCBjcmVhdGUgb25lIGFuZFxuICAgICAgICAgICAgLy8gcHV0IHRoZSBmaXJzdCB0YWJsZSByb3cgaW4gaXQuXG4gICAgICAgICAgICB0aGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0aGVhZCcpO1xuICAgICAgICAgICAgdGhlLmFwcGVuZENoaWxkKHRhYmxlLnJvd3NbMF0pO1xuICAgICAgICAgICAgdGFibGUuaW5zZXJ0QmVmb3JlKHRoZSwgdGFibGUuZmlyc3RDaGlsZCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gU2FmYXJpIGRvZXNuJ3Qgc3VwcG9ydCB0YWJsZS50SGVhZCwgc2lnaFxuICAgICAgICBpZiAodGFibGUudEhlYWQgPT0gbnVsbCkgdGFibGUudEhlYWQgPSB0YWJsZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgndGhlYWQnKVswXTtcblxuICAgICAgICBpZiAodGFibGUudEhlYWQucm93cy5sZW5ndGggIT0gMSkgcmV0dXJuOyAvLyBjYW4ndCBjb3BlIHdpdGggdHdvIGhlYWRlciByb3dzXG5cbiAgICAgICAgLy8gU29ydHRhYmxlIHYxIHB1dCByb3dzIHdpdGggYSBjbGFzcyBvZiBcInNvcnRib3R0b21cIiBhdCB0aGUgYm90dG9tIChhc1xuICAgICAgICAvLyBcInRvdGFsXCIgcm93cywgZm9yIGV4YW1wbGUpLiBUaGlzIGlzIEImUiwgc2luY2Ugd2hhdCB5b3UncmUgc3VwcG9zZWRcbiAgICAgICAgLy8gdG8gZG8gaXMgcHV0IHRoZW0gaW4gYSB0Zm9vdC4gU28sIGlmIHRoZXJlIGFyZSBzb3J0Ym90dG9tIHJvd3MsXG4gICAgICAgIC8vIGZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eSwgbW92ZSB0aGVtIHRvIHRmb290IChjcmVhdGluZyBpdCBpZiBuZWVkZWQpLlxuICAgICAgICBzb3J0Ym90dG9tcm93cyA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRhYmxlLnJvd3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmICh0YWJsZS5yb3dzW2ldLmNsYXNzTmFtZS5zZWFyY2goL1xcYnNvcnRib3R0b21cXGIvKSAhPSAtMSkge1xuICAgICAgICAgICAgICAgIHNvcnRib3R0b21yb3dzW3NvcnRib3R0b21yb3dzLmxlbmd0aF0gPSB0YWJsZS5yb3dzW2ldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChzb3J0Ym90dG9tcm93cykge1xuICAgICAgICAgICAgaWYgKHRhYmxlLnRGb290ID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAvLyB0YWJsZSBkb2Vzbid0IGhhdmUgYSB0Zm9vdC4gQ3JlYXRlIG9uZS5cbiAgICAgICAgICAgICAgICB0Zm8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd0Zm9vdCcpO1xuICAgICAgICAgICAgICAgIHRhYmxlLmFwcGVuZENoaWxkKHRmbyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNvcnRib3R0b21yb3dzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdGZvLmFwcGVuZENoaWxkKHNvcnRib3R0b21yb3dzW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRlbGV0ZSBzb3J0Ym90dG9tcm93cztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHdvcmsgdGhyb3VnaCBlYWNoIGNvbHVtbiBhbmQgY2FsY3VsYXRlIGl0cyB0eXBlXG4gICAgICAgIGhlYWRyb3cgPSB0YWJsZS50SGVhZC5yb3dzWzBdLmNlbGxzO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGhlYWRyb3cubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIC8vIG1hbnVhbGx5IG92ZXJyaWRlIHRoZSB0eXBlIHdpdGggYSBzb3J0dGFibGVfdHlwZSBhdHRyaWJ1dGVcbiAgICAgICAgICAgIGlmICghaGVhZHJvd1tpXS5jbGFzc05hbWUubWF0Y2goL1xcYnNvcnR0YWJsZV9ub3NvcnRcXGIvKSkgeyAvLyBza2lwIHRoaXMgY29sXG4gICAgICAgICAgICAgICAgbXRjaCA9IGhlYWRyb3dbaV0uY2xhc3NOYW1lLm1hdGNoKC9cXGJzb3J0dGFibGVfKFthLXowLTldKylcXGIvKTtcbiAgICAgICAgICAgICAgICBpZiAobXRjaCkge1xuICAgICAgICAgICAgICAgICAgICBvdmVycmlkZSA9IG10Y2hbMV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChtdGNoICYmIHR5cGVvZiBzb3J0dGFibGVbXCJzb3J0X1wiICsgb3ZlcnJpZGVdID09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgaGVhZHJvd1tpXS5zb3J0dGFibGVfc29ydGZ1bmN0aW9uID0gc29ydHRhYmxlW1wic29ydF9cIiArIG92ZXJyaWRlXTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBoZWFkcm93W2ldLnNvcnR0YWJsZV9zb3J0ZnVuY3Rpb24gPSBzb3J0dGFibGUuZ3Vlc3NUeXBlKHRhYmxlLCBpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gbWFrZSBpdCBjbGlja2FibGUgdG8gc29ydFxuICAgICAgICAgICAgICAgIGhlYWRyb3dbaV0uc29ydHRhYmxlX2NvbHVtbmluZGV4ID0gaTtcbiAgICAgICAgICAgICAgICBoZWFkcm93W2ldLnNvcnR0YWJsZV90Ym9keSA9IHRhYmxlLnRCb2RpZXNbMF07XG4gICAgICAgICAgICAgICAgZGVhbl9hZGRFdmVudChoZWFkcm93W2ldLCBcImNsaWNrXCIsIHNvcnR0YWJsZS5pbm5lclNvcnRGdW5jdGlvbiA9IGZ1bmN0aW9uKGUpIHtcblxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jbGFzc05hbWUuc2VhcmNoKC9cXGJzb3J0dGFibGVfc29ydGVkXFxiLykgIT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmIHdlJ3JlIGFscmVhZHkgc29ydGVkIGJ5IHRoaXMgY29sdW1uLCBqdXN0XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyByZXZlcnNlIHRoZSB0YWJsZSwgd2hpY2ggaXMgcXVpY2tlclxuICAgICAgICAgICAgICAgICAgICAgICAgc29ydHRhYmxlLnJldmVyc2UodGhpcy5zb3J0dGFibGVfdGJvZHkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jbGFzc05hbWUgPSB0aGlzLmNsYXNzTmFtZS5yZXBsYWNlKCdzb3J0dGFibGVfc29ydGVkJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnc29ydHRhYmxlX3NvcnRlZF9yZXZlcnNlJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUNoaWxkKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzb3J0dGFibGVfc29ydGZ3ZGluZCcpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvcnRyZXZpbmQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzb3J0cmV2aW5kLmlkID0gXCJzb3J0dGFibGVfc29ydHJldmluZFwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgc29ydHJldmluZC5pbm5lckhUTUwgPSBzdElzSUUgPyAnJm5ic3A8Zm9udCBmYWNlPVwid2ViZGluZ3NcIj41PC9mb250PicgOiAnJm5ic3A7JiN4MjVCRTsnO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hcHBlbmRDaGlsZChzb3J0cmV2aW5kKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jbGFzc05hbWUuc2VhcmNoKC9cXGJzb3J0dGFibGVfc29ydGVkX3JldmVyc2VcXGIvKSAhPSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYgd2UncmUgYWxyZWFkeSBzb3J0ZWQgYnkgdGhpcyBjb2x1bW4gaW4gcmV2ZXJzZSwganVzdFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmUtcmV2ZXJzZSB0aGUgdGFibGUsIHdoaWNoIGlzIHF1aWNrZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvcnR0YWJsZS5yZXZlcnNlKHRoaXMuc29ydHRhYmxlX3Rib2R5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2xhc3NOYW1lID0gdGhpcy5jbGFzc05hbWUucmVwbGFjZSgnc29ydHRhYmxlX3NvcnRlZF9yZXZlcnNlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnc29ydHRhYmxlX3NvcnRlZCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVDaGlsZChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc29ydHRhYmxlX3NvcnRyZXZpbmQnKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzb3J0ZndkaW5kID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc29ydGZ3ZGluZC5pZCA9IFwic29ydHRhYmxlX3NvcnRmd2RpbmRcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvcnRmd2RpbmQuaW5uZXJIVE1MID0gc3RJc0lFID8gJyZuYnNwPGZvbnQgZmFjZT1cIndlYmRpbmdzXCI+NjwvZm9udD4nIDogJyZuYnNwOyYjeDI1QjQ7JztcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYXBwZW5kQ2hpbGQoc29ydGZ3ZGluZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyByZW1vdmUgc29ydHRhYmxlX3NvcnRlZCBjbGFzc2VzXG4gICAgICAgICAgICAgICAgICAgIHRoZWFkcm93ID0gdGhpcy5wYXJlbnROb2RlO1xuICAgICAgICAgICAgICAgICAgICBmb3JFYWNoKHRoZWFkcm93LmNoaWxkTm9kZXMsIGZ1bmN0aW9uKGNlbGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjZWxsLm5vZGVUeXBlID09IDEpIHsgLy8gYW4gZWxlbWVudFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNlbGwuY2xhc3NOYW1lID0gY2VsbC5jbGFzc05hbWUucmVwbGFjZSgnc29ydHRhYmxlX3NvcnRlZF9yZXZlcnNlJywgJycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNlbGwuY2xhc3NOYW1lID0gY2VsbC5jbGFzc05hbWUucmVwbGFjZSgnc29ydHRhYmxlX3NvcnRlZCcsICcnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHNvcnRmd2RpbmQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc29ydHRhYmxlX3NvcnRmd2RpbmQnKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNvcnRmd2RpbmQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvcnRmd2RpbmQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzb3J0ZndkaW5kKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBzb3J0cmV2aW5kID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NvcnR0YWJsZV9zb3J0cmV2aW5kJyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzb3J0cmV2aW5kKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzb3J0cmV2aW5kLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc29ydHJldmluZCk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNsYXNzTmFtZSArPSAnIHNvcnR0YWJsZV9zb3J0ZWQnO1xuICAgICAgICAgICAgICAgICAgICBzb3J0ZndkaW5kID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICAgICAgICAgICAgICAgICAgICBzb3J0ZndkaW5kLmlkID0gXCJzb3J0dGFibGVfc29ydGZ3ZGluZFwiO1xuICAgICAgICAgICAgICAgICAgICBzb3J0ZndkaW5kLmlubmVySFRNTCA9IHN0SXNJRSA/ICcmbmJzcDxmb250IGZhY2U9XCJ3ZWJkaW5nc1wiPjY8L2ZvbnQ+JyA6ICcmbmJzcDsmI3gyNUI0Oyc7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXBwZW5kQ2hpbGQoc29ydGZ3ZGluZCk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gYnVpbGQgYW4gYXJyYXkgdG8gc29ydC4gVGhpcyBpcyBhIFNjaHdhcnR6aWFuIHRyYW5zZm9ybSB0aGluZyxcbiAgICAgICAgICAgICAgICAgICAgLy8gaS5lLiwgd2UgXCJkZWNvcmF0ZVwiIGVhY2ggcm93IHdpdGggdGhlIGFjdHVhbCBzb3J0IGtleSxcbiAgICAgICAgICAgICAgICAgICAgLy8gc29ydCBiYXNlZCBvbiB0aGUgc29ydCBrZXlzLCBhbmQgdGhlbiBwdXQgdGhlIHJvd3MgYmFjayBpbiBvcmRlclxuICAgICAgICAgICAgICAgICAgICAvLyB3aGljaCBpcyBhIGxvdCBmYXN0ZXIgYmVjYXVzZSB5b3Ugb25seSBkbyBnZXRJbm5lclRleHQgb25jZSBwZXIgcm93XG4gICAgICAgICAgICAgICAgICAgIHJvd19hcnJheSA9IFtdO1xuICAgICAgICAgICAgICAgICAgICBjb2wgPSB0aGlzLnNvcnR0YWJsZV9jb2x1bW5pbmRleDtcbiAgICAgICAgICAgICAgICAgICAgcm93cyA9IHRoaXMuc29ydHRhYmxlX3Rib2R5LnJvd3M7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgcm93cy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcm93X2FycmF5W3Jvd19hcnJheS5sZW5ndGhdID0gW3NvcnR0YWJsZS5nZXRJbm5lclRleHQocm93c1tqXS5jZWxsc1tjb2xdKSwgcm93c1tqXV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLyogSWYgeW91IHdhbnQgYSBzdGFibGUgc29ydCwgdW5jb21tZW50IHRoZSBmb2xsb3dpbmcgbGluZSAqL1xuICAgICAgICAgICAgICAgICAgICAvL3NvcnR0YWJsZS5zaGFrZXJfc29ydChyb3dfYXJyYXksIHRoaXMuc29ydHRhYmxlX3NvcnRmdW5jdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIC8qIGFuZCBjb21tZW50IG91dCB0aGlzIG9uZSAqL1xuICAgICAgICAgICAgICAgICAgICByb3dfYXJyYXkuc29ydCh0aGlzLnNvcnR0YWJsZV9zb3J0ZnVuY3Rpb24pO1xuXG4gICAgICAgICAgICAgICAgICAgIHRiID0gdGhpcy5zb3J0dGFibGVfdGJvZHk7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgcm93X2FycmF5Lmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0Yi5hcHBlbmRDaGlsZChyb3dfYXJyYXlbal1bMV0pO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHJvd19hcnJheTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBndWVzc1R5cGU6IGZ1bmN0aW9uKHRhYmxlLCBjb2x1bW4pIHtcbiAgICAgICAgLy8gZ3Vlc3MgdGhlIHR5cGUgb2YgYSBjb2x1bW4gYmFzZWQgb24gaXRzIGZpcnN0IG5vbi1ibGFuayByb3dcbiAgICAgICAgc29ydGZuID0gc29ydHRhYmxlLnNvcnRfYWxwaGE7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGFibGUudEJvZGllc1swXS5yb3dzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0ZXh0ID0gc29ydHRhYmxlLmdldElubmVyVGV4dCh0YWJsZS50Qm9kaWVzWzBdLnJvd3NbaV0uY2VsbHNbY29sdW1uXSk7XG4gICAgICAgICAgICBpZiAodGV4dCAhPSAnJykge1xuICAgICAgICAgICAgICAgIGlmICh0ZXh0Lm1hdGNoKC9eLT9b77+9JO+/vV0/W1xcZCwuXSslPyQvKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gc29ydHRhYmxlLnNvcnRfbnVtZXJpYztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gY2hlY2sgZm9yIGEgZGF0ZTogZGQvbW0veXl5eSBvciBkZC9tbS95eVxuICAgICAgICAgICAgICAgIC8vIGNhbiBoYXZlIC8gb3IgLiBvciAtIGFzIHNlcGFyYXRvclxuICAgICAgICAgICAgICAgIC8vIGNhbiBiZSBtbS9kZCBhcyB3ZWxsXG4gICAgICAgICAgICAgICAgcG9zc2RhdGUgPSB0ZXh0Lm1hdGNoKHNvcnR0YWJsZS5EQVRFX1JFKVxuICAgICAgICAgICAgICAgIGlmIChwb3NzZGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBsb29rcyBsaWtlIGEgZGF0ZVxuICAgICAgICAgICAgICAgICAgICBmaXJzdCA9IHBhcnNlSW50KHBvc3NkYXRlWzFdKTtcbiAgICAgICAgICAgICAgICAgICAgc2Vjb25kID0gcGFyc2VJbnQocG9zc2RhdGVbMl0pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZmlyc3QgPiAxMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZGVmaW5pdGVseSBkZC9tbVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNvcnR0YWJsZS5zb3J0X2RkbW07XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc2Vjb25kID4gMTIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzb3J0dGFibGUuc29ydF9tbWRkO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbG9va3MgbGlrZSBhIGRhdGUsIGJ1dCB3ZSBjYW4ndCB0ZWxsIHdoaWNoLCBzbyBhc3N1bWVcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHRoYXQgaXQncyBkZC9tbSAoRW5nbGlzaCBpbXBlcmlhbGlzbSEpIGFuZCBrZWVwIGxvb2tpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgIHNvcnRmbiA9IHNvcnR0YWJsZS5zb3J0X2RkbW07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNvcnRmbjtcbiAgICB9LFxuXG4gICAgZ2V0SW5uZXJUZXh0OiBmdW5jdGlvbihub2RlKSB7XG4gICAgICAgIC8vIGdldHMgdGhlIHRleHQgd2Ugd2FudCB0byB1c2UgZm9yIHNvcnRpbmcgZm9yIGEgY2VsbC5cbiAgICAgICAgLy8gc3RyaXBzIGxlYWRpbmcgYW5kIHRyYWlsaW5nIHdoaXRlc3BhY2UuXG4gICAgICAgIC8vIHRoaXMgaXMgKm5vdCogYSBnZW5lcmljIGdldElubmVyVGV4dCBmdW5jdGlvbjsgaXQncyBzcGVjaWFsIHRvIHNvcnR0YWJsZS5cbiAgICAgICAgLy8gZm9yIGV4YW1wbGUsIHlvdSBjYW4gb3ZlcnJpZGUgdGhlIGNlbGwgdGV4dCB3aXRoIGEgY3VzdG9ta2V5IGF0dHJpYnV0ZS5cbiAgICAgICAgLy8gaXQgYWxzbyBnZXRzIC52YWx1ZSBmb3IgPGlucHV0PiBmaWVsZHMuXG5cbiAgICAgICAgaWYgKCFub2RlKSByZXR1cm4gXCJcIjtcblxuICAgICAgICBoYXNJbnB1dHMgPSAodHlwZW9mIG5vZGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUgPT0gJ2Z1bmN0aW9uJykgJiZcbiAgICAgICAgICAgIG5vZGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2lucHV0JykubGVuZ3RoO1xuXG4gICAgICAgIGlmIChub2RlLmdldEF0dHJpYnV0ZShcInNvcnR0YWJsZV9jdXN0b21rZXlcIikgIT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIG5vZGUuZ2V0QXR0cmlidXRlKFwic29ydHRhYmxlX2N1c3RvbWtleVwiKTtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2Ygbm9kZS50ZXh0Q29udGVudCAhPSAndW5kZWZpbmVkJyAmJiAhaGFzSW5wdXRzKSB7XG4gICAgICAgICAgICByZXR1cm4gbm9kZS50ZXh0Q29udGVudC5yZXBsYWNlKC9eXFxzK3xcXHMrJC9nLCAnJyk7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIG5vZGUuaW5uZXJUZXh0ICE9ICd1bmRlZmluZWQnICYmICFoYXNJbnB1dHMpIHtcbiAgICAgICAgICAgIHJldHVybiBub2RlLmlubmVyVGV4dC5yZXBsYWNlKC9eXFxzK3xcXHMrJC9nLCAnJyk7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIG5vZGUudGV4dCAhPSAndW5kZWZpbmVkJyAmJiAhaGFzSW5wdXRzKSB7XG4gICAgICAgICAgICByZXR1cm4gbm9kZS50ZXh0LnJlcGxhY2UoL15cXHMrfFxccyskL2csICcnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN3aXRjaCAobm9kZS5ub2RlVHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5vZGUubm9kZU5hbWUudG9Mb3dlckNhc2UoKSA9PSAnaW5wdXQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbm9kZS52YWx1ZS5yZXBsYWNlKC9eXFxzK3xcXHMrJC9nLCAnJyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2FzZSA0OlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5vZGUubm9kZVZhbHVlLnJlcGxhY2UoL15cXHMrfFxccyskL2csICcnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgMTE6XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5uZXJUZXh0ID0gJyc7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5vZGUuY2hpbGROb2Rlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlubmVyVGV4dCArPSBzb3J0dGFibGUuZ2V0SW5uZXJUZXh0KG5vZGUuY2hpbGROb2Rlc1tpXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaW5uZXJUZXh0LnJlcGxhY2UoL15cXHMrfFxccyskL2csICcnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcblxuICAgIHJldmVyc2U6IGZ1bmN0aW9uKHRib2R5KSB7XG4gICAgICAgIC8vIHJldmVyc2UgdGhlIHJvd3MgaW4gYSB0Ym9keVxuICAgICAgICBuZXdyb3dzID0gW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGJvZHkucm93cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbmV3cm93c1tuZXdyb3dzLmxlbmd0aF0gPSB0Ym9keS5yb3dzW2ldO1xuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSBuZXdyb3dzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgICB0Ym9keS5hcHBlbmRDaGlsZChuZXdyb3dzW2ldKTtcbiAgICAgICAgfVxuICAgICAgICBkZWxldGUgbmV3cm93cztcbiAgICB9LFxuXG4gICAgLyogc29ydCBmdW5jdGlvbnNcbiAgICAgICBlYWNoIHNvcnQgZnVuY3Rpb24gdGFrZXMgdHdvIHBhcmFtZXRlcnMsIGEgYW5kIGJcbiAgICAgICB5b3UgYXJlIGNvbXBhcmluZyBhWzBdIGFuZCBiWzBdICovXG4gICAgc29ydF9udW1lcmljOiBmdW5jdGlvbihhLCBiKSB7XG4gICAgICAgIGFhID0gcGFyc2VGbG9hdChhWzBdLnJlcGxhY2UoL1teMC05Li1dL2csICcnKSk7XG4gICAgICAgIGlmIChpc05hTihhYSkpIGFhID0gMDtcbiAgICAgICAgYmIgPSBwYXJzZUZsb2F0KGJbMF0ucmVwbGFjZSgvW14wLTkuLV0vZywgJycpKTtcbiAgICAgICAgaWYgKGlzTmFOKGJiKSkgYmIgPSAwO1xuICAgICAgICByZXR1cm4gYWEgLSBiYjtcbiAgICB9LFxuICAgIHNvcnRfYWxwaGE6IGZ1bmN0aW9uKGEsIGIpIHtcbiAgICAgICAgaWYgKGFbMF0gPT0gYlswXSkgcmV0dXJuIDA7XG4gICAgICAgIGlmIChhWzBdIDwgYlswXSkgcmV0dXJuIC0xO1xuICAgICAgICByZXR1cm4gMTtcbiAgICB9LFxuICAgIHNvcnRfZGRtbTogZnVuY3Rpb24oYSwgYikge1xuICAgICAgICBtdGNoID0gYVswXS5tYXRjaChzb3J0dGFibGUuREFURV9SRSk7XG4gICAgICAgIHkgPSBtdGNoWzNdO1xuICAgICAgICBtID0gbXRjaFsyXTtcbiAgICAgICAgZCA9IG10Y2hbMV07XG4gICAgICAgIGlmIChtLmxlbmd0aCA9PSAxKSBtID0gJzAnICsgbTtcbiAgICAgICAgaWYgKGQubGVuZ3RoID09IDEpIGQgPSAnMCcgKyBkO1xuICAgICAgICBkdDEgPSB5ICsgbSArIGQ7XG4gICAgICAgIG10Y2ggPSBiWzBdLm1hdGNoKHNvcnR0YWJsZS5EQVRFX1JFKTtcbiAgICAgICAgeSA9IG10Y2hbM107XG4gICAgICAgIG0gPSBtdGNoWzJdO1xuICAgICAgICBkID0gbXRjaFsxXTtcbiAgICAgICAgaWYgKG0ubGVuZ3RoID09IDEpIG0gPSAnMCcgKyBtO1xuICAgICAgICBpZiAoZC5sZW5ndGggPT0gMSkgZCA9ICcwJyArIGQ7XG4gICAgICAgIGR0MiA9IHkgKyBtICsgZDtcbiAgICAgICAgaWYgKGR0MSA9PSBkdDIpIHJldHVybiAwO1xuICAgICAgICBpZiAoZHQxIDwgZHQyKSByZXR1cm4gLTE7XG4gICAgICAgIHJldHVybiAxO1xuICAgIH0sXG4gICAgc29ydF9tbWRkOiBmdW5jdGlvbihhLCBiKSB7XG4gICAgICAgIG10Y2ggPSBhWzBdLm1hdGNoKHNvcnR0YWJsZS5EQVRFX1JFKTtcbiAgICAgICAgeSA9IG10Y2hbM107XG4gICAgICAgIGQgPSBtdGNoWzJdO1xuICAgICAgICBtID0gbXRjaFsxXTtcbiAgICAgICAgaWYgKG0ubGVuZ3RoID09IDEpIG0gPSAnMCcgKyBtO1xuICAgICAgICBpZiAoZC5sZW5ndGggPT0gMSkgZCA9ICcwJyArIGQ7XG4gICAgICAgIGR0MSA9IHkgKyBtICsgZDtcbiAgICAgICAgbXRjaCA9IGJbMF0ubWF0Y2goc29ydHRhYmxlLkRBVEVfUkUpO1xuICAgICAgICB5ID0gbXRjaFszXTtcbiAgICAgICAgZCA9IG10Y2hbMl07XG4gICAgICAgIG0gPSBtdGNoWzFdO1xuICAgICAgICBpZiAobS5sZW5ndGggPT0gMSkgbSA9ICcwJyArIG07XG4gICAgICAgIGlmIChkLmxlbmd0aCA9PSAxKSBkID0gJzAnICsgZDtcbiAgICAgICAgZHQyID0geSArIG0gKyBkO1xuICAgICAgICBpZiAoZHQxID09IGR0MikgcmV0dXJuIDA7XG4gICAgICAgIGlmIChkdDEgPCBkdDIpIHJldHVybiAtMTtcbiAgICAgICAgcmV0dXJuIDE7XG4gICAgfSxcblxuICAgIHNoYWtlcl9zb3J0OiBmdW5jdGlvbihsaXN0LCBjb21wX2Z1bmMpIHtcbiAgICAgICAgLy8gQSBzdGFibGUgc29ydCBmdW5jdGlvbiB0byBhbGxvdyBtdWx0aS1sZXZlbCBzb3J0aW5nIG9mIGRhdGFcbiAgICAgICAgLy8gc2VlOiBodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0NvY2t0YWlsX3NvcnRcbiAgICAgICAgLy8gdGhhbmtzIHRvIEpvc2VwaCBOYWhtaWFzXG4gICAgICAgIHZhciBiID0gMDtcbiAgICAgICAgdmFyIHQgPSBsaXN0Lmxlbmd0aCAtIDE7XG4gICAgICAgIHZhciBzd2FwID0gdHJ1ZTtcblxuICAgICAgICB3aGlsZSAoc3dhcCkge1xuICAgICAgICAgICAgc3dhcCA9IGZhbHNlO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IGI7IGkgPCB0OyArK2kpIHtcbiAgICAgICAgICAgICAgICBpZiAoY29tcF9mdW5jKGxpc3RbaV0sIGxpc3RbaSArIDFdKSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHEgPSBsaXN0W2ldO1xuICAgICAgICAgICAgICAgICAgICBsaXN0W2ldID0gbGlzdFtpICsgMV07XG4gICAgICAgICAgICAgICAgICAgIGxpc3RbaSArIDFdID0gcTtcbiAgICAgICAgICAgICAgICAgICAgc3dhcCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSAvLyBmb3JcbiAgICAgICAgICAgIHQtLTtcblxuICAgICAgICAgICAgaWYgKCFzd2FwKSBicmVhaztcblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IHQ7IGkgPiBiOyAtLWkpIHtcbiAgICAgICAgICAgICAgICBpZiAoY29tcF9mdW5jKGxpc3RbaV0sIGxpc3RbaSAtIDFdKSA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHEgPSBsaXN0W2ldO1xuICAgICAgICAgICAgICAgICAgICBsaXN0W2ldID0gbGlzdFtpIC0gMV07XG4gICAgICAgICAgICAgICAgICAgIGxpc3RbaSAtIDFdID0gcTtcbiAgICAgICAgICAgICAgICAgICAgc3dhcCA9IHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSAvLyBmb3JcbiAgICAgICAgICAgIGIrKztcblxuICAgICAgICB9IC8vIHdoaWxlKHN3YXApXG4gICAgfVxufVxuXG4vKiAqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcbiAgIFN1cHBvcnRpbmcgZnVuY3Rpb25zOiBidW5kbGVkIGhlcmUgdG8gYXZvaWQgZGVwZW5kaW5nIG9uIGEgbGlicmFyeVxuICAgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqICovXG5cbi8vIERlYW4gRWR3YXJkcy9NYXR0aGlhcyBNaWxsZXIvSm9obiBSZXNpZ1xuXG4vKiBmb3IgTW96aWxsYS9PcGVyYTkgKi9cbmlmIChkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKSB7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgc29ydHRhYmxlLmluaXQsIGZhbHNlKTtcbn1cblxuLyogZm9yIEludGVybmV0IEV4cGxvcmVyICovXG4vKkBjY19vbiBAKi9cbi8qQGlmIChAX3dpbjMyKVxuICAgIGRvY3VtZW50LndyaXRlKFwiPHNjcmlwdCBpZD1fX2llX29ubG9hZCBkZWZlciBzcmM9amF2YXNjcmlwdDp2b2lkKDApPjxcXC9zY3JpcHQ+XCIpO1xuICAgIHZhciBzY3JpcHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIl9faWVfb25sb2FkXCIpO1xuICAgIHNjcmlwdC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHRoaXMucmVhZHlTdGF0ZSA9PSBcImNvbXBsZXRlXCIpIHtcbiAgICAgICAgICAgIHNvcnR0YWJsZS5pbml0KCk7IC8vIGNhbGwgdGhlIG9ubG9hZCBoYW5kbGVyXG4gICAgICAgIH1cbiAgICB9O1xuLypAZW5kIEAqL1xuXG4vKiBmb3IgU2FmYXJpICovXG5pZiAoL1dlYktpdC9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkpIHsgLy8gc25pZmZcbiAgICB2YXIgX3RpbWVyID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICgvbG9hZGVkfGNvbXBsZXRlLy50ZXN0KGRvY3VtZW50LnJlYWR5U3RhdGUpKSB7XG4gICAgICAgICAgICBzb3J0dGFibGUuaW5pdCgpOyAvLyBjYWxsIHRoZSBvbmxvYWQgaGFuZGxlclxuICAgICAgICB9XG4gICAgfSwgMTApO1xufVxuXG4vKiBmb3Igb3RoZXIgYnJvd3NlcnMgKi9cbndpbmRvdy5vbmxvYWQgPSBzb3J0dGFibGUuaW5pdDtcblxuLy8gd3JpdHRlbiBieSBEZWFuIEVkd2FyZHMsIDIwMDVcbi8vIHdpdGggaW5wdXQgZnJvbSBUaW5vIFppamRlbCwgTWF0dGhpYXMgTWlsbGVyLCBEaWVnbyBQZXJpbmlcblxuLy8gaHR0cDovL2RlYW4uZWR3YXJkcy5uYW1lL3dlYmxvZy8yMDA1LzEwL2FkZC1ldmVudC9cblxuZnVuY3Rpb24gZGVhbl9hZGRFdmVudChlbGVtZW50LCB0eXBlLCBoYW5kbGVyKSB7XG4gICAgaWYgKGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcikge1xuICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgaGFuZGxlciwgZmFsc2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIGFzc2lnbiBlYWNoIGV2ZW50IGhhbmRsZXIgYSB1bmlxdWUgSURcbiAgICAgICAgaWYgKCFoYW5kbGVyLiQkZ3VpZCkgaGFuZGxlci4kJGd1aWQgPSBkZWFuX2FkZEV2ZW50Lmd1aWQrKztcbiAgICAgICAgLy8gY3JlYXRlIGEgaGFzaCB0YWJsZSBvZiBldmVudCB0eXBlcyBmb3IgdGhlIGVsZW1lbnRcbiAgICAgICAgaWYgKCFlbGVtZW50LmV2ZW50cykgZWxlbWVudC5ldmVudHMgPSB7fTtcbiAgICAgICAgLy8gY3JlYXRlIGEgaGFzaCB0YWJsZSBvZiBldmVudCBoYW5kbGVycyBmb3IgZWFjaCBlbGVtZW50L2V2ZW50IHBhaXJcbiAgICAgICAgdmFyIGhhbmRsZXJzID0gZWxlbWVudC5ldmVudHNbdHlwZV07XG4gICAgICAgIGlmICghaGFuZGxlcnMpIHtcbiAgICAgICAgICAgIGhhbmRsZXJzID0gZWxlbWVudC5ldmVudHNbdHlwZV0gPSB7fTtcbiAgICAgICAgICAgIC8vIHN0b3JlIHRoZSBleGlzdGluZyBldmVudCBoYW5kbGVyIChpZiB0aGVyZSBpcyBvbmUpXG4gICAgICAgICAgICBpZiAoZWxlbWVudFtcIm9uXCIgKyB0eXBlXSkge1xuICAgICAgICAgICAgICAgIGhhbmRsZXJzWzBdID0gZWxlbWVudFtcIm9uXCIgKyB0eXBlXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBzdG9yZSB0aGUgZXZlbnQgaGFuZGxlciBpbiB0aGUgaGFzaCB0YWJsZVxuICAgICAgICBoYW5kbGVyc1toYW5kbGVyLiQkZ3VpZF0gPSBoYW5kbGVyO1xuICAgICAgICAvLyBhc3NpZ24gYSBnbG9iYWwgZXZlbnQgaGFuZGxlciB0byBkbyBhbGwgdGhlIHdvcmtcbiAgICAgICAgZWxlbWVudFtcIm9uXCIgKyB0eXBlXSA9IGhhbmRsZUV2ZW50O1xuICAgIH1cbn07XG4vLyBhIGNvdW50ZXIgdXNlZCB0byBjcmVhdGUgdW5pcXVlIElEc1xuZGVhbl9hZGRFdmVudC5ndWlkID0gMTtcblxuZnVuY3Rpb24gcmVtb3ZlRXZlbnQoZWxlbWVudCwgdHlwZSwgaGFuZGxlcikge1xuICAgIGlmIChlbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIpIHtcbiAgICAgICAgZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKHR5cGUsIGhhbmRsZXIsIGZhbHNlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICAvLyBkZWxldGUgdGhlIGV2ZW50IGhhbmRsZXIgZnJvbSB0aGUgaGFzaCB0YWJsZVxuICAgICAgICBpZiAoZWxlbWVudC5ldmVudHMgJiYgZWxlbWVudC5ldmVudHNbdHlwZV0pIHtcbiAgICAgICAgICAgIGRlbGV0ZSBlbGVtZW50LmV2ZW50c1t0eXBlXVtoYW5kbGVyLiQkZ3VpZF07XG4gICAgICAgIH1cbiAgICB9XG59O1xuXG5mdW5jdGlvbiBoYW5kbGVFdmVudChldmVudCkge1xuICAgIHZhciByZXR1cm5WYWx1ZSA9IHRydWU7XG4gICAgLy8gZ3JhYiB0aGUgZXZlbnQgb2JqZWN0IChJRSB1c2VzIGEgZ2xvYmFsIGV2ZW50IG9iamVjdClcbiAgICBldmVudCA9IGV2ZW50IHx8IGZpeEV2ZW50KCgodGhpcy5vd25lckRvY3VtZW50IHx8IHRoaXMuZG9jdW1lbnQgfHwgdGhpcykucGFyZW50V2luZG93IHx8IHdpbmRvdykuZXZlbnQpO1xuICAgIC8vIGdldCBhIHJlZmVyZW5jZSB0byB0aGUgaGFzaCB0YWJsZSBvZiBldmVudCBoYW5kbGVyc1xuICAgIHZhciBoYW5kbGVycyA9IHRoaXMuZXZlbnRzW2V2ZW50LnR5cGVdO1xuICAgIC8vIGV4ZWN1dGUgZWFjaCBldmVudCBoYW5kbGVyXG4gICAgZm9yICh2YXIgaSBpbiBoYW5kbGVycykge1xuICAgICAgICB0aGlzLiQkaGFuZGxlRXZlbnQgPSBoYW5kbGVyc1tpXTtcbiAgICAgICAgaWYgKHRoaXMuJCRoYW5kbGVFdmVudChldmVudCkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICByZXR1cm5WYWx1ZSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXR1cm5WYWx1ZTtcbn07XG5cbmZ1bmN0aW9uIGZpeEV2ZW50KGV2ZW50KSB7XG4gICAgLy8gYWRkIFczQyBzdGFuZGFyZCBldmVudCBtZXRob2RzXG4gICAgZXZlbnQucHJldmVudERlZmF1bHQgPSBmaXhFdmVudC5wcmV2ZW50RGVmYXVsdDtcbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24gPSBmaXhFdmVudC5zdG9wUHJvcGFnYXRpb247XG4gICAgcmV0dXJuIGV2ZW50O1xufTtcbmZpeEV2ZW50LnByZXZlbnREZWZhdWx0ID0gZnVuY3Rpb24oKSB7XG4gICAgdGhpcy5yZXR1cm5WYWx1ZSA9IGZhbHNlO1xufTtcbmZpeEV2ZW50LnN0b3BQcm9wYWdhdGlvbiA9IGZ1bmN0aW9uKCkge1xuICAgIHRoaXMuY2FuY2VsQnViYmxlID0gdHJ1ZTtcbn1cblxuLy8gRGVhbidzIGZvckVhY2g6IGh0dHA6Ly9kZWFuLmVkd2FyZHMubmFtZS9iYXNlL2ZvckVhY2guanNcbi8qXG5cdGZvckVhY2gsIHZlcnNpb24gMS4wXG5cdENvcHlyaWdodCAyMDA2LCBEZWFuIEVkd2FyZHNcblx0TGljZW5zZTogaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcbiovXG5cbi8vIGFycmF5LWxpa2UgZW51bWVyYXRpb25cbmlmICghQXJyYXkuZm9yRWFjaCkgeyAvLyBtb3ppbGxhIGFscmVhZHkgc3VwcG9ydHMgdGhpc1xuICAgIEFycmF5LmZvckVhY2ggPSBmdW5jdGlvbihhcnJheSwgYmxvY2ssIGNvbnRleHQpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYmxvY2suY2FsbChjb250ZXh0LCBhcnJheVtpXSwgaSwgYXJyYXkpO1xuICAgICAgICB9XG4gICAgfTtcbn1cblxuLy8gZ2VuZXJpYyBlbnVtZXJhdGlvblxuRnVuY3Rpb24ucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbihvYmplY3QsIGJsb2NrLCBjb250ZXh0KSB7XG4gICAgZm9yICh2YXIga2V5IGluIG9iamVjdCkge1xuICAgICAgICBpZiAodHlwZW9mIHRoaXMucHJvdG90eXBlW2tleV0gPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgYmxvY2suY2FsbChjb250ZXh0LCBvYmplY3Rba2V5XSwga2V5LCBvYmplY3QpO1xuICAgICAgICB9XG4gICAgfVxufTtcblxuLy8gY2hhcmFjdGVyIGVudW1lcmF0aW9uXG5TdHJpbmcuZm9yRWFjaCA9IGZ1bmN0aW9uKHN0cmluZywgYmxvY2ssIGNvbnRleHQpIHtcbiAgICBBcnJheS5mb3JFYWNoKHN0cmluZy5zcGxpdChcIlwiKSwgZnVuY3Rpb24oY2hyLCBpbmRleCkge1xuICAgICAgICBibG9jay5jYWxsKGNvbnRleHQsIGNociwgaW5kZXgsIHN0cmluZyk7XG4gICAgfSk7XG59O1xuXG4vLyBnbG9iYWxseSByZXNvbHZlIGZvckVhY2ggZW51bWVyYXRpb25cbnZhciBmb3JFYWNoID0gZnVuY3Rpb24ob2JqZWN0LCBibG9jaywgY29udGV4dCkge1xuICAgIGlmIChvYmplY3QpIHtcbiAgICAgICAgdmFyIHJlc29sdmUgPSBPYmplY3Q7IC8vIGRlZmF1bHRcbiAgICAgICAgaWYgKG9iamVjdCBpbnN0YW5jZW9mIEZ1bmN0aW9uKSB7XG4gICAgICAgICAgICAvLyBmdW5jdGlvbnMgaGF2ZSBhIFwibGVuZ3RoXCIgcHJvcGVydHlcbiAgICAgICAgICAgIHJlc29sdmUgPSBGdW5jdGlvbjtcbiAgICAgICAgfSBlbHNlIGlmIChvYmplY3QuZm9yRWFjaCBpbnN0YW5jZW9mIEZ1bmN0aW9uKSB7XG4gICAgICAgICAgICAvLyB0aGUgb2JqZWN0IGltcGxlbWVudHMgYSBjdXN0b20gZm9yRWFjaCBtZXRob2Qgc28gdXNlIHRoYXRcbiAgICAgICAgICAgIG9iamVjdC5mb3JFYWNoKGJsb2NrLCBjb250ZXh0KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2Ygb2JqZWN0ID09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIC8vIHRoZSBvYmplY3QgaXMgYSBzdHJpbmdcbiAgICAgICAgICAgIHJlc29sdmUgPSBTdHJpbmc7XG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIG9iamVjdC5sZW5ndGggPT0gXCJudW1iZXJcIikge1xuICAgICAgICAgICAgLy8gdGhlIG9iamVjdCBpcyBhcnJheS1saWtlXG4gICAgICAgICAgICByZXNvbHZlID0gQXJyYXk7XG4gICAgICAgIH1cbiAgICAgICAgcmVzb2x2ZS5mb3JFYWNoKG9iamVjdCwgYmxvY2ssIGNvbnRleHQpO1xuICAgIH1cbn07XG5cbm1vZHVsZS5leHBvcnRzID0gc29ydHRhYmxlIl0sInNvdXJjZVJvb3QiOiIifQ==